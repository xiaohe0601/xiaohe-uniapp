<div align="center">
  <h1>uniapp-vue2-hbx-starter</h1>
  <span>ğŸš€ ä¸€ä¸ªå¼€ç®±å³ç”¨çš„uniappè„šæ‰‹æ¶</span>
</div>

<br>

![GitHub Repo stars](https://img.shields.io/github/stars/MyHdg0601/uniapp-vue2-hbx-starter?logo=GitHub&style=flat-square)
![GitHub forks](https://img.shields.io/github/forks/MyHdg0601/uniapp-vue2-hbx-starter?logo=GitHub&style=flat-square)
![GitHub watchers](https://img.shields.io/github/watchers/MyHdg0601/uniapp-vue2-hbx-starter?logo=GitHub&style=flat-square)
![GitHub release (latest by date)](https://img.shields.io/github/v/release/MyHdg0601/uniapp-vue2-hbx-starter?style=flat-square)
![GitHub](https://img.shields.io/github/license/MyHdg0601/uniapp-vue2-hbx-starter?style=flat-square)

[![star](https://gitee.com/MyHdg/uniapp-vue2-hbx-starter/badge/star.svg?theme=dark)](https://gitee.com/MyHdg/uniapp-vue2-hbx-starter/stargazers)
[![fork](https://gitee.com/MyHdg/uniapp-vue2-hbx-starter/badge/fork.svg?theme=dark)](https://gitee.com/MyHdg/uniapp-vue2-hbx-starter/members)

å°ä½•åŒå­¦ / [github@MyHdg0601](https://github.com/MyHdg0601) / [gitee@MyHdg](https://gitee.com/MyHdg)

### ğŸ‰ ç‰¹æ€§

- ğŸ” ä»£ç é«˜è´¨é‡ï¼Œä¸¥è°¨è§„èŒƒ

- ğŸš æ”¯æŒå¤šç«¯å…¼å®¹ï¼ˆAndroidã€iOSã€Webã€å°ç¨‹åºâ€¦â€¦ï¼‰

- ğŸ– æ”¯æŒå¤šä¸»é¢˜åˆ‡æ¢ï¼Œæ·±è‰²æ¨¡å¼è‡ªåŠ¨è·Ÿéšç³»ç»Ÿï¼ˆCssVarå®ç°ï¼‰

- ğŸœ æ”¯æŒåŠ¨æ€å¼•å…¥ç½‘ç»œJavaScriptåº“ï¼Œçªç ´å°ç¨‹åºæ— æ³•åŠ¨æ€æ‰§è¡Œä»£ç çš„é™åˆ¶

- ğŸ™ æ”¯æŒå…¨å±€é…ç½®ã€ç¯å¢ƒå˜é‡

- ğŸŸ å®Œå…¨è‡ªå®šä¹‰çš„Navbarã€Tabbarï¼Œå¤šç«¯è¡¨ç°é«˜åº¦ä¸€è‡´

- ğŸ§€ å†…ç½®ä¸°å¯Œçš„ä¼˜ç§€å·¥å…·æ–¹æ³•å°è£…ï¼ˆç½‘ç»œè¯·æ±‚ã€æƒé™ç”³è¯·ã€å­—ç¬¦ä¸²æ“ä½œâ€¦â€¦ï¼‰

- ğŸ³ å†…ç½®ç»„ä»¶æä¾›VueDocï¼Œå†…ç½®æ–¹æ³•æä¾›JsDocï¼ˆIDEè‡ªåŠ¨ä»£ç æç¤ºï¼‰

- ğŸ¨ é›†æˆuview-ui 2.xã€z-pagingç­‰å¼€æºç»„ä»¶åº“

- ğŸŒ­ æ”¯æŒå…è´¹å•†ç”¨

- ğŸ¥— æ›´å¤šç‰¹æ€§ç­‰ä½ å‘æ˜â€¦â€¦

### ğŸš é¡¹ç›®ä»“åº“

[ğŸˆ github](https://github.com/MyHdg0601/uniapp-vue2-hbx-starter) / [ğŸ—ï¸ gitee](https://gitee.com/MyHdg/uniapp-vue2-hbx-starter) / ğŸƒ no more

### ğŸ§­ ä½¿ç”¨æŒ‡å—

1. `clone` æˆ– `download` é¡¹ç›®ä»£ç è‡³æœ¬åœ°

1. ä½¿ç”¨æœ€æ–°ç‰ˆ `HBuilderX` æ‰“å¼€é¡¹ç›®ï¼Œè¿›å…¥ `manifest.json` æ–‡ä»¶

	- åŸºç¡€é…ç½®

		- uni-appåº”ç”¨æ ‡è¯†(AppID)ï¼šç‚¹å‡» `é‡æ–°è·å–` æŒ‰é’®ä»¥è·å–è‡ªå·±çš„AppIDï¼Œæˆ–è€…åœ¨æºç è§†å›¾ä¸­å¡«å†™å·²æœ‰çš„ `appid`

		- åº”ç”¨åç§°ã€åº”ç”¨ç‰ˆæœ¬åç§°ã€åº”ç”¨ç‰ˆæœ¬å·ï¼šæ ¹æ®å®é™…æƒ…å†µå¡«å†™

	- å°ç¨‹åºé…ç½®

		- å°ç¨‹åºAppIDï¼šå¡«å†™è‡ªå·±çš„å°ç¨‹åºAppIDï¼Œç”³è¯·æ–¹å¼å‚è€ƒå„å®¶å°ç¨‹åºå®˜æ–¹æ–‡æ¡£

1. è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œ `yarn`ï¼ˆæ¨èï¼‰æˆ– `npm install` å®‰è£…ä¾èµ–ï¼ˆæ³¨æ„ä¸è¦æ··ç”¨ä¾èµ–ç®¡ç†å·¥å…·ï¼‰

1. ä»£ç æ ¼å¼åŒ–é£æ ¼é…ç½®ï¼ˆæ¨èä½¿ç”¨ï¼Œä½†ä¸æ˜¯å¿…é¡»ï¼‰

	- å¤åˆ¶ `/.settings/jsbeautifyrc.js` ä¸­çš„å†…å®¹

	- æ‰“å¼€ `jsbeautify` é…ç½®æ–‡ä»¶ï¼ˆHBuilderX -> å·¥å…· -> è®¾ç½® -> æ’ä»¶é…ç½® -> jsbeautify -> æ‰“å¼€æ–‡ä»¶jsbeautifyrc.jsè¿›è¡Œé…ç½®ï¼‰

	- å°†å¤åˆ¶çš„å†…å®¹æ›¿æ¢ `jsbeautifyrc.js` åŸæœ¬çš„å†…å®¹å³å¯

1. [è¿è¡Œé¡¹ç›®](https://uniapp.dcloud.net.cn/quickstart-hx.html#%E8%BF%90%E8%A1%8Cuni-app)

1. [å‘è¡Œé¡¹ç›®(å³æ‰€è°“çš„æ‰“åŒ…)](https://uniapp.dcloud.net.cn/quickstart-hx.html#%E5%8F%91%E5%B8%83uni-app)

### ğŸ“‡ ç›®å½•ç»“æ„

```
uniapp-vue2-hbx-starter
â”œâ”€.settings                     // ã€HBuilderXæ¨èé…ç½®ã€‘
|   â”œâ”€jsbeautifyrc.js           // == ä»£ç æ ¼å¼åŒ–é£æ ¼
|   â””-settings.json             // == ç¼–è¾‘å™¨è®¾ç½® [æŒ‰éœ€ä½¿ç”¨]
|
â”œâ”€components                    // ã€ç»„ä»¶ã€‘
|   â”œâ”€AppContainer.vue          // == Appé¡µé¢å®¹å™¨ï¼ˆç”¨äºå®¹çº³é¡µé¢å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶å‘å­å…ƒç´ æä¾›Csså˜é‡ï¼Œå®ç°ä¸»é¢˜åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚æ³¨æ„ï¼šæœ¬ç»„ä»¶åº”ä¸ºé¡µé¢çš„æ ¹ç»„ä»¶ã€‚ï¼‰
|   â”œâ”€AppNavbar.vue             // == Appå¯¼èˆªæ ï¼ˆç”¨äºè‡ªå®šä¹‰å¯¼èˆªæ  [å³navbar]ã€‚ï¼‰
|   â”œâ”€AppTabbar.vue             // == Appåº•éƒ¨å¯¼èˆªæ ï¼ˆç”¨äºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ  [å³tabbar]ã€‚ï¼‰
|   â”œâ”€AppSafearea.vue           // == Appå®‰å…¨åŒºåŸŸï¼ˆç”¨äºå®‰å…¨åŒºåŸŸå ä½ï¼Œä¸”å¯æä¾›é¢å¤–å«é«˜ã€‚ï¼‰
|   â”œâ”€AppAreaPicker.vue         // == Appåœ°åŒºé€‰æ‹©å™¨ï¼ˆç”¨äºåœ°åŒºé€‰æ‹©ï¼Œä¼ å…¥åœ°åŒºç¼–ç å³å¯è‡ªåŠ¨å®šä½è‡³ç›®æ ‡åœ°åŒºã€‚ï¼‰
|   â””-AppVideo.vue              // == Appè§†é¢‘ç»„ä»¶ï¼ˆç”¨äºè§†é¢‘æ’­æ”¾ï¼ŒAPP-PLUSç«¯ä½¿ç”¨iframeå®ç°åŒå±‚æ¸²æŸ“ã€‚ï¼‰
|
â”œâ”€enums                         // ã€æšä¸¾ã€‘
|   â””-user.js                   // == æšä¸¾ä½¿ç”¨ç¤ºä¾‹
|
â”œâ”€extensions                    // ã€æ‰©å±•ã€‘ï¼ˆVue prototype æ‰©å±• [å³this.$...]ï¼Œä»¥åŠuniæ‰©å±•ï¼‰
|   â””-index.js                  // =-= $dateï¼šdayjs
|                               // =-= $deviceï¼šè®¾å¤‡ç›¸å…³å·¥å…·æ–¹æ³•
|                               // =-= $stringï¼šå­—ç¬¦ä¸²ç›¸å…³å·¥å…·æ–¹æ³•
|                               // =-= uni.simulateSwitchTabï¼šæ¨¡æ‹Ÿuni.switchTabï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#è‡ªå®šä¹‰tabbar)éƒ¨åˆ†
|
â”œâ”€filters                       // ã€Vue filterã€‘ï¼ˆç®€å•ç”¨æ³•ï¼š{{ someValue | defaults }}ï¼Œæ›´å¤šç”¨æ³•è¯·æŸ¥é˜…Vue 2å®˜æ–¹æ–‡æ¡£ [https://v2.cn.vuejs.org/v2/guide/filters.html]ï¼‰
|   â””-index.js                  // =-= defaultsï¼šé»˜è®¤å€¼
|                               // =-= sourcesï¼šå¤„ç†ç›¸å¯¹è·¯å¾„
|
â”œâ”€mixins                        // ã€Vue mixinã€‘
|   â”œâ”€index.js                  // =-= preventDefaultï¼šåªæ˜¯ä¸€ä¸ªç©ºæ–¹æ³•ï¼Œå¯è‡ªè¡Œæ‰©å±•
|   |                           // =-= destroyToastTimerï¼šé”€æ¯toastTimerå®šæ—¶å™¨
|   |
|   â”œâ”€lifecycle.js              // == ç”Ÿå‘½å‘¨æœŸmixinï¼ˆè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#lifecycleMixin)éƒ¨åˆ†ï¼‰
|   |
|   â””-echarts.js                // == echartsç›¸å…³mixinï¼ˆè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#echartsMixin)éƒ¨åˆ†ï¼‰
|
â”œâ”€pages                         // ã€é¡µé¢ã€‘
|   â”œâ”€main                      // == ä¸»é¡µé¢ï¼ˆé»˜è®¤æ˜¯tabbarå®¹å™¨é¡µé¢ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#è‡ªå®šä¹‰tabbar)éƒ¨åˆ†ï¼‰
|   |  	â”œâ”€index.vue             // ==== tabbarå®¹å™¨é¡µé¢
|   |  	â”œâ”€components            // ==== ä¸»é¡µé¢ç»„ä»¶ï¼ˆä¸€èˆ¬ç”¨äºå­˜æ”¾tabé¡µé¢ [ä½¿ç”¨ç»„ä»¶æ¨¡æ‹Ÿé¡µé¢]ï¼‰
|   |  	|   â”œâ”€TheHome.vue       // ====== ç¤ºä¾‹tabé¡µé¢ï¼šä¸»é¡µ
|   |  	|   â””-TheMine.vue       // ====== ç¤ºä¾‹tabé¡µé¢ï¼šæˆ‘çš„
|
â”œâ”€service                       // ã€æ¥å£å®šä¹‰ã€‘è¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#ç½‘ç»œè¯·æ±‚)éƒ¨åˆ†
|
â”œâ”€static                        // ã€é™æ€èµ„æºã€‘
|   â”œâ”€icons                     // == å›¾æ ‡èµ„æº
|   â””-iconfont                  // == iconfontå­—ä½“å›¾æ ‡
|
â”œâ”€store                         // ã€VueX storeã€‘
|   â”œâ”€index.js                  // == storeæ€»å…¥å£
|   â”œâ”€modules                   // == storeæ¨¡å—
|   |   â”œâ”€system.js             // ==== è®¾å¤‡/ç³»ç»Ÿä¿¡æ¯ï¼ˆæ•°æ®æ¥è‡ªuni.getSystemInfoSyncï¼‰
|   |   â”œâ”€theme.js              // ==== ä¸»é¢˜ä¿¡æ¯
|   |   â””-user.js               // ==== ç”¨æˆ·ä¿¡æ¯
|
â”œâ”€styles                        // ã€æ ·å¼è¡¨ã€‘
|   â”œâ”€reset.scss                // == æ ·å¼é‡ç½®
|   â”œâ”€common.scss               // == å…¬å…±æ ·å¼
|   â”œâ”€theme.scss                // == ä¸»é¢˜æ ·å¼
|   â””-app.scss                  // == appæ ·å¼
|
â”œâ”€utils                         // ã€é…ç½®/å·¥å…·æ–¹æ³•ã€‘
|   â”œâ”€config.js                 // == é…ç½®æ–‡ä»¶
|   â”œâ”€dayjs.js                  // == dayjsé…ç½®
|   â”œâ”€device.js                 // == è®¾å¤‡ç›¸å…³å·¥å…·æ–¹æ³•
|   â”œâ”€network.js                // == ç½‘ç»œè¯·æ±‚ç›¸å…³å·¥å…·æ–¹æ³•
|   â”œâ”€permission.js             // == æƒé™ç›¸å…³å·¥å…·æ–¹æ³•
|   â”œâ”€promisify.js              // == PromiseåŒ–uniçš„å¼‚æ­¥æ–¹æ³•
|   â”œâ”€route.js                  // == è·¯ç”±ç›¸å…³å·¥å…·æ–¹æ³•
|   â”œâ”€script.js                 // == è¿œç¨‹è„šæœ¬ç›¸å…³æ–¹æ³•
|   â””-string.js                 // == å­—ç¬¦ä¸²ç›¸å…³å·¥å…·æ–¹æ³•
|
â”œâ”€.editorconfig                 // editorconfig
â”œâ”€.env                          // é€šç”¨ç¯å¢ƒå˜é‡ï¼ˆæ³¨æ„ä¸Vue cliä¸­ç¯å¢ƒå˜é‡çš„å·®å¼‚ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹(#ç¯å¢ƒå˜é‡)éƒ¨åˆ†ï¼‰
â”œâ”€.env.development              // å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€.env.production               // ç”Ÿäº§ç¯å¢ƒå˜é‡
â”œâ”€.gitignore                    // gitå¿½ç•¥æ–‡ä»¶
â”œâ”€App.vue                       // App.vue
â”œâ”€index.html                    // index.html
â”œâ”€main.js                       // åº”ç”¨å…¥å£
â”œâ”€manifest.json                 // uniappé…ç½®
â”œâ”€package.json                  // package.json
â”œâ”€pages.json                    // é¡µé¢é…ç½®
â”œâ”€theme.json                    // ä¸»é¢˜é…ç½®ï¼ˆç”±äºé¡¹ç›®ä¸­navbarã€tabbarç­‰ç»„ä»¶å·²å®Œå…¨è‡ªå®šä¹‰ï¼Œæ•…æ— éœ€ä½¿ç”¨ï¼ŒæŒ‰é»˜è®¤å†…å®¹ä¿ç•™å³å¯ï¼‰
â”œâ”€uni.scss                      // å…¨å±€scsså˜é‡
â”œâ”€vue.config.js                 // vue.config.js
â””-yarn.lock                     // æ¨èä½¿ç”¨Yarnç®¡ç†ä¾èµ–
```

### ğŸ“± é¡µé¢ç»“æ„

```vue
<template>
  <app-container :percept="thePercept">
    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

    <!-- é¡µé¢å†…å®¹ -->

    <app-safearea></app-safearea>
  </app-container>
</template>

<script>
  import lifecycleMixin from "@/mixins/lifecycle";

  export default {
    mixins: [lifecycleMixin],
    data() {
      return {}
    },
    methods: {

    }
  }
</script>

<style lang="scss" scoped>

</style>
```

>  ä¸Šæ–¹ç¤ºä¾‹æ˜¯ä¸€ä¸ªé¡µé¢çš„åŸºæœ¬æ¡†æ¶

1. å°† `lifecycleMixin` å¼•å…¥(`import`)å¹¶æ··å…¥(`mixin`)å½“å‰é¡µé¢

1. `AppContainer` ç»„ä»¶ä½œä¸ºé¡µé¢çš„æ ¹å…ƒç´ ï¼ˆå·²å…¨å±€å¯¼å…¥ï¼Œæ— éœ€ `import`ï¼‰ï¼Œå¹¶å°† `lifecycleMixin` ä¸­çš„ `thePercept` ä¼ ç»™ `AppContainer` çš„ `percept` å‚æ•°

1. è‹¥é¡µé¢éœ€è¦å¯¼èˆªæ ï¼Œåˆ™æ·»åŠ  `AppNavbar` ç»„ä»¶è‡³é¡µé¢ä¸­ï¼ˆå·²å…¨å±€å¯¼å…¥ï¼Œæ— éœ€ `import`ï¼‰ï¼Œç»„ä»¶ `fixed` å‚æ•°é»˜è®¤ä¸º `true`ï¼Œå¯¼èˆªæ ä¼šè‡ªåŠ¨å›ºå®šåœ¨é¡µé¢æœ€ä¸Šæ–¹ï¼Œå¹¶ä¸”åœ¨æ–‡æ¡£æµä¸­æ·»åŠ ä¸€ä¸ªå¯¼èˆªæ åŒç­‰é«˜åº¦çš„ `placeholder` æ¥å¡«å……å¯¼èˆªæ çš„ä½ç½®ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[è‡ªå®šä¹‰å¯¼èˆªæ ](#è‡ªå®šä¹‰å¯¼èˆªæ )éƒ¨åˆ†

1. æ ¹æ®éœ€è¦å¯ä»¥åœ¨é¡µé¢ä¸­å¯æ»šåŠ¨åˆ°å±å¹•åº•éƒ¨çš„å…ƒç´ æœ«å°¾æ·»åŠ  `AppSafearea` ç»„ä»¶æ¥å«é«˜æ»šåŠ¨å†…å®¹ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[å®‰å…¨åŒºåŸŸ](#å®‰å…¨åŒºåŸŸ)éƒ¨åˆ†

### ğŸ• å†…ç½®ç»„ä»¶

#### AppContainer

> æœ¬ç»„ä»¶ç”¨äºå®¹çº³é¡µé¢å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶å‘å­å…ƒç´ æä¾›Csså˜é‡ï¼Œå®ç°ä¸»é¢˜åˆ‡æ¢ç­‰åŠŸèƒ½ã€‚æ³¨æ„ï¼šæœ¬ç»„ä»¶åº”ä¸ºé¡µé¢çš„æ ¹ç»„ä»¶ã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|percept|æ‰€åœ¨é¡µé¢æ˜¯å¦è¢«å±•ç¤ºï¼ˆä¼ å…¥ `lifecycleMixin` ä¸­çš„ `thePercept`ï¼‰|Boolean|-|`false`|
|lifecycle|æ‰€åœ¨é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼ˆä¼ å…¥ `lifecycleMixin` ä¸­çš„ `theLifecycle`ï¼‰|String|-|`null`|
|background-color|èƒŒæ™¯é¢œè‰²|String|-|var(--color-bg-normal)|
|status-front-color|çŠ¶æ€æ å‰æ™¯è‰²ï¼ˆè‹¥ä¸º `auto` åˆ™ä¼šæ ¹æ®å½“å‰ä¸»é¢˜çš„ `brightness` è‡ªåŠ¨å˜åŒ–é¢œè‰²ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[ä¸»é¢˜](#ä¸»é¢˜)éƒ¨åˆ†ï¼‰|String|auto / #ffffff / #000000|auto|
|status-background-color|çŠ¶æ€æ èƒŒæ™¯è‰²ï¼ˆ`auto` åŒä¸Šï¼‰|String|auto / 16è¿›åˆ¶é¢œè‰²å€¼|auto|

##### Slots

|åç§°|è¯´æ˜|
|---|---|
|default|é¡µé¢å†…å®¹|

##### CssVarsï¼ˆæ ·å¼å®šåˆ¶ï¼‰

|åç§°|è¯´æ˜|é»˜è®¤å€¼|
|---|---|---|
|--app-main__space_vertical|çºµå‘ç©ºéš™å¤§å°|20rpx|
|--app-main__space_horizontal|æ¨ªå‘ç©ºéš™å¤§å°|22rpx|
|--app-main__txt_size|æ–‡å­—å¤§å°|28rpx|
|--app-main__txt_weight|æ–‡å­—å­—é‡|400|
|--app-main__txt_color|æ–‡å­—é¢œè‰²|var(--color-txt-primary)|

##### CssVarsï¼ˆç»„ä»¶æä¾›ï¼‰

|åç§°|è¯´æ˜|
|---|---|
|--app-navbar__status_height|çŠ¶æ€æ é«˜åº¦|
|--app-navbar__title_height|æ ‡é¢˜æ é«˜åº¦|
|--app-navbar__body_height|å¯¼èˆªæ é«˜åº¦ï¼ˆ= çŠ¶æ€æ é«˜åº¦ + æ ‡é¢˜æ é«˜åº¦ï¼‰|
|--app-navbar__status_color|è®¡ç®—åçš„çŠ¶æ€æ å‰æ™¯è‰²ï¼ˆå¯¹åº” `status-front-color`ï¼‰|
|--app-navbar__status_background|è®¡ç®—åçš„çŠ¶æ€æ èƒŒæ™¯è‰²ï¼ˆå¯¹åº” `status-background-color`ï¼‰|
|--app-safearea__body_top|ä¸Šæ–¹å®‰å…¨åŒºåŸŸå¤§å°|
|--app-safearea__body_right|å³ä¾§å®‰å…¨åŒºåŸŸå¤§å°|
|--app-safearea__body_bottom|ä¸‹æ–¹å®‰å…¨åŒºåŸŸå¤§å°|
|--app-safearea__body_left|å·¦ä¾§å®‰å…¨åŒºåŸŸå¤§å°|
|--app-scroller__cushion_height|`app-scroller` å«é«˜é«˜åº¦ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[z-paging](#z-paging)éƒ¨åˆ†|

##### ç›¸å…³è¯´æ˜

- é¡¹ç›®ä¸­çš„ä¸»é¢˜åˆ‡æ¢é‡‡ç”¨çš„æ˜¯ `CssVar` æ–¹æ¡ˆï¼Œç”±äºå°ç¨‹åºç«¯ç›®å‰æ— æ³•ç»™ `page` ç›´æ¥æ·»åŠ  `class` ä»è€Œå¯¼è‡´éœ€è¦é‡‡ç”¨ä¸€ä¸ª `view`ï¼ˆå³ `AppContainer`ï¼‰åšä¸ºæ ¹å®¹å™¨ï¼Œç”¨äºæ¥å—ä¸»é¢˜ç›¸å…³ `class` å¹¶æ‰¿è½½é¡µé¢å†…å®¹æ»šåŠ¨ã€‚ä½†æ˜¯è¿™å°†å¯¼è‡´é¡µé¢æ»šåŠ¨ç›¸å…³äº‹ä»¶(`onPageScroll`ã€`onReachBottom` ç­‰)æ— æ³•è§¦å‘ï¼Œè‹¥éœ€ç›‘å¬é¡µé¢æ»šåŠ¨äº‹ä»¶ï¼Œå¯é€šè¿‡ `scroll-view` ç­‰æ–¹å¼å®ç°ï¼ˆç›¸å…³æ³¨æ„äº‹é¡¹è¯·æŸ¥çœ‹ä¸‹æ–¹[è‡ªå®šä¹‰å¯¼èˆªæ ](#è‡ªå®šä¹‰å¯¼èˆªæ )éƒ¨åˆ†ï¼‰

#### AppNavbar

> æœ¬ç»„ä»¶ç”¨äºè‡ªå®šä¹‰å¯¼èˆªæ ï¼ˆå³navbarï¼‰ã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|show|æ˜¯å¦å±•ç¤ºå¯¼èˆªæ |Boolean|-|`true`|
|fixed|æ˜¯å¦å›ºå®šåœ¨å±å¹•é¡¶éƒ¨å±•ç¤º|Boolean|-|`true`|
|placeholder|å›ºå®šåœ¨å±å¹•é¡¶éƒ¨å±•ç¤ºæ—¶æ˜¯å¦åœ¨æ–‡æ¡£æµä¸­å¡«å……ç­‰é«˜view|Boolean|-|`true`|
|border|æ˜¯å¦å±•ç¤ºä¸‹è¾¹æ¡†|Boolean|-|`true`|
|use-custom-slot|æ˜¯å¦ä½¿ç”¨customæ’æ§½ï¼ˆå°ç¨‹åºç«¯ä¸æ”¯æŒåˆ¤æ–­æ˜¯å¦æä¾›å¯¹åº”slotï¼Œæ•…æ·»åŠ å±æ€§æ‰‹åŠ¨æŒ‡å®šæ˜¯å¦ä½¿ç”¨ï¼‰|Boolean|-|`false`|
|show-left|æ˜¯å¦å±•ç¤ºå·¦ä¾§å†…å®¹|Boolean|-|`true`|
|use-left-slot|æ˜¯å¦ä½¿ç”¨leftæ’æ§½|Boolean|-|`false`|
|left-icon|å·¦ä¾§å›¾æ ‡ï¼ˆu-iconä¸­çš„å›¾æ ‡ï¼‰|String|-|arrow-left|
|left-text|å·¦ä¾§æ–‡å­—|String|-|è¿”å›|
|show-right|æ˜¯å¦å±•ç¤ºå³ä¾§å†…å®¹|Boolean|-|`true`|
|use-right-slot|æ˜¯å¦ä½¿ç”¨rightæ’æ§½|Boolean|-|`false`|
|right-icon|å³ä¾§å›¾æ ‡ï¼ˆu-iconä¸­çš„å›¾æ ‡ï¼‰|String|-|-|
|right-text|å³ä¾§æ–‡å­—|String|-|-|
|use-center-slot|æ˜¯å¦ä½¿ç”¨centeræ’æ§½|Boolean|-|`false`|
|title|æ ‡é¢˜æ–‡å­—|String|-|-|
|title-width|æ ‡é¢˜å®½åº¦|String|-|var(--app-navbar__title_width)|
|text-color|æ–‡å­—é¢œè‰²|String|-|var(--app-navbar__txt_color)|
|background-color|èƒŒæ™¯é¢œè‰²|String|-|var(--color-bg-primary)|
|icon-size|å·¦å³å›¾æ ‡å¤§å°|String|-|var(--app-navbar__icon_size)|
|icon-color|å·¦å³å›¾æ ‡é¢œè‰²|String|-|inherit|
|z-index|cssä¸­çš„z-index|Number|-|`50`|
|auto-back|ç‚¹å‡»navbarå·¦ä¾§æ˜¯å¦è§¦å‘navigateBack|Boolean|-|`true`|

##### Events

|äº‹ä»¶|è¯´æ˜|å›è°ƒå‚æ•°|
|---|---|---|
|left-tap|ç‚¹å‡»navbarå·¦ä¾§|-|
|right-tap|ç‚¹å‡»navbarå³ä¾§|-|

##### Slots

|åç§°|è¯´æ˜|
|---|---|
|custom|æ ‡é¢˜æ å†…å®¹ï¼ˆ`use-custom-slot` ä¸º `true` æ—¶æœ‰æ•ˆï¼‰|
|left|æ ‡é¢˜æ å†…å®¹ï¼ˆ`use-left-slot` ä¸º `true` ä¸”æ—  `custom` æ—¶æœ‰æ•ˆï¼‰|
|center|æ ‡é¢˜æ å†…å®¹ï¼ˆ`use-center-slot` ä¸º `true` ä¸”æ—  `custom` æ—¶æœ‰æ•ˆï¼‰|
|right|æ ‡é¢˜æ å†…å®¹ï¼ˆ`use-right-slot` ä¸º `true` ä¸”æ—  `custom` æ—¶æœ‰æ•ˆï¼‰|

##### CssVarsï¼ˆæ ·å¼å®šåˆ¶ï¼‰

|åç§°|è¯´æ˜|é»˜è®¤å€¼|
|---|---|---|
|--app-navbar__body_border|ä¸‹è¾¹æ¡†æ ·å¼|2rpx solid rgba(0, 0, 0, 0.05)|
|--app-navbar__title_width|æ ‡é¢˜å®½åº¦|300rpx|
|--app-navbar__txt_size|å­—ä½“å¤§å°|32rpx|
|--app-navbar__txt_color|æ–‡å­—é¢œè‰²|var(--color-txt-primary)|
|--app-navbar__icon_mright|å·¦å³ä¾§å›¾æ ‡ `margin-right`|8rpx|
|--app-navbar__icon_size|å·¦å³ä¾§å›¾æ ‡å¤§å°|32rpx|

##### è‡ªå®šä¹‰å¯¼èˆªæ 

- é¡¹ç›®ä¸­ `globalStyle.navigationStyle` å·²è®¾ç½®ä¸º `custom`ï¼Œé¡µé¢ä¸­è‹¥éœ€å¯¼èˆªæ å¯ä»¥ä½¿ç”¨ `AppNavbar` ç»„ä»¶æˆ–å…¶ä»–è‡ªå®šä¹‰æ–¹å¼å®ç°

- è‡ªå®šä¹‰å¯¼èˆªæ åé¡µé¢çº§çš„ä¸‹æ‹‰åˆ·æ–°æ—¶ï¼Œè‡ªå®šä¹‰å¯¼èˆªæ ä¹Ÿä¼šè¢«ä¸€å¹¶ä¸‹æ‹‰ï¼Œè‹¥ä¸æ»¡è¶³éœ€æ±‚å¯ä»¥ä½¿ç”¨ `z-paging` æˆ– `scroll-view` ç­‰å…¶ä»–æ–¹å¼å®ç°è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[z-paging](#z-paging)éƒ¨åˆ†

- æ³¨æ„ï¼šåœ¨æœ‰ `AppNavbar` çš„é¡µé¢ä¸­ï¼Œè‹¥éœ€è¦æŸä¸ªå…ƒç´ å æ»¡å±å¹•ï¼Œéœ€è¦è€ƒè™‘ `AppNavbar` çš„`placeholder` æ‰€å ç”¨çš„é«˜åº¦ï¼Œä¸€èˆ¬æ¥è¯´æœ‰å¦‚ä¸‹å‡ ç§åšæ³•

	1. ä½¿ç”¨ `css` ä¸­çš„ `calc` è®¡ç®—å‡ºé¡µé¢ä¸­é™¤å» `AppNavbar` åå‰©ä½™ç©ºé—´çš„é«˜åº¦

		- ä½¿ç”¨ `VueX` çš„ `getters`

			```vue
			<template>
			  <app-container :percept="thePercept">
			    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>	

			    <view :style="{height: `calc(100% - ${navigationBarHeight}px)`}">

			    </view>
			  </app-container>
			</template>

			<script>
			  import { mapGetters } from "vuex";	

			  export default {
			    // ...
			    computed: {
			      ...mapGetters({
			        navigationBarHeight: "system/getNavigationBarHeight"
			      })
			    }
			    // ...
			  }
			</script>
			```

		- ä½¿ç”¨ `Css` å˜é‡

			```vue
			<template>
			  <app-container :percept="thePercept">
			    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

			    <view class="page-container">

			    </view>
			  </app-container>
			</template>

			<style lang="scss" scoped>
			  .page-container {
			    height: calc(100% - var(--app-navbar__body_height));
			  }
			</style>
			```

	1. å°† `AppNavbar` çš„ `placeholder` å±æ€§è®¾ç½®ä¸º `false`ï¼Œç„¶åå°†å…ƒç´ é«˜åº¦è®¾ç½®ä¸º `100%`ï¼Œå°†ä¸ `AppNavbar` ç­‰é«˜çš„å…ƒç´ æ”¾ç½®åœ¨è¯¥å…ƒç´ çš„ç¬¬ä¸€é¡¹

		- ä½¿ç”¨ `VueX` çš„ `getters`

			```vue
			<template>
			  <app-container :percept="thePercept">
			    <app-navbar title="é¡µé¢æ ‡é¢˜" :placeholder="false"></app-navbar>

			    <view class="page-container">
			      <view :style="{height: `${navigationBarHeight}px`}"></view>

			    </view>
			  </app-container>
			</template>

			<script>
			  import { mapGetters } from "vuex";

			  export default {
			    // ...
			    computed: {
			      ...mapGetters({
			        navigationBarHeight: "system/getNavigationBarHeight"
			      })
			    }
			    // ...
			  }
			</script>

			<style lang="scss" scoped>
			  .page-container {
			    height: 100%;
			  }
			</style>
			```

		- ä½¿ç”¨ `Css` å˜é‡

			```vue
			<template>
			  <app-container :percept="thePercept">
			    <app-navbar title="é¡µé¢æ ‡é¢˜" :placeholder="false"></app-navbar>

			    <view class="page-container">
			      <view class="page-container__cushion"></view>

			    </view>
			  </app-container>
			</template>

			<style lang="scss" scoped>
			  .page-container {
			    height: 100%;
			  }

			  .page-container__cushion {
			    height: var(--app-navbar__body_height);
			  }
			</style>
			```

#### AppTabbar

> æœ¬ç»„ä»¶ç”¨äºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ ï¼ˆå³tabbarï¼‰ã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|* value / v-model|å½“å‰é€‰ä¸­ç»„ä»¶åç§°ï¼ˆå¯¹åº” `items[].component`ï¼‰|String|-|-|
|* items|tabsé…ç½®ï¼ˆç±»å‹ï¼š`AppTabbarItem[]`ï¼Œå…·ä½“è§ä¸‹æ–¹è¯´æ˜ï¼‰|Array|-|-|
|show|æ˜¯å¦å±•ç¤ºtabbar|Boolean|-|`true`|
|round|æ˜¯å¦å±•ç¤ºåœ†è§’ï¼ˆåœ†è§’å¤§å°ï¼š`--app-tabbar__body_radius`ï¼‰|Boolean|-|`false`|
|border|æ˜¯å¦å±•ç¤ºä¸Šè¾¹æ¡†ï¼ˆè¾¹æ¡†æ ·å¼ï¼š`--app-tabbar__body_border`ï¼‰|Boolean|-|`true`|
|z-index|cssä¸­çš„z-index|Number|-|`50`|

##### AppTabbarItem

|å±æ€§|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|name|åç§°ï¼ˆå±•ç¤ºæ–‡å­—ï¼‰|string|-|-|
|component|ç»„ä»¶åç§°|string|-|-|
|icon|å›¾æ ‡ï¼ˆå›¾ç‰‡ç»å¯¹è·¯å¾„ï¼‰|string|-|-|
|iconSelected|é€‰ä¸­çŠ¶æ€å›¾æ ‡ï¼ˆå›¾ç‰‡ç»å¯¹è·¯å¾„ï¼‰|string|-|-|
|badgeKey|badgeå–å€¼ï¼ˆéœ€æä¾›Vuexä¸­çš„gettersï¼‰|string|-|-|

##### Events

|äº‹ä»¶|è¯´æ˜|å›è°ƒå‚æ•°|
|---|---|---|
|input|å½“å‰é€‰ä¸­ç»„ä»¶åç§°å˜åŒ–|valueï¼šå½“å‰é€‰ä¸­ç»„ä»¶åç§°|

##### CssVarsï¼ˆæ ·å¼å®šåˆ¶ï¼‰

|åç§°|è¯´æ˜|é»˜è®¤å€¼|
|---|---|---|
|--app-tabbar__body_height|é«˜åº¦|120rpx|
|--app-tabbar__body_radius|ä¸Šåœ†è§’å¤§å°|0|
|--app-tabbar__body_border|ä¸Šè¾¹æ¡†æ ·å¼|2rpx solid rgba(0, 0, 0, 0.04)|
|--app-tabbar__body_background|èƒŒæ™¯é¢œè‰²|var(--color-bg-primary)|
|--app-tabbar__item_width|tab itemå®½åº¦|120rpx|
|--app-tabbar__icon_size|å›¾æ ‡å¤§å°|56rpx|
|--app-tabbar__txt_mtop|æ–‡å­—çš„ `margin-top`|6rpx|
|--app-tabbar__txt_size|æ–‡å­—å¤§å°|24rpx|
|--app-tabbar__txt_weight|æ–‡å­—å­—é‡|500|
|--app-tabbar__txt_color|æ–‡å­—é¢œè‰²|#bbbdd4|
|--app-tabbar__txt_color--selected|æ–‡å­—é¢œè‰²ï¼ˆé€‰ä¸­çŠ¶æ€ï¼‰|var(--color-accent)|
|--app-tabbar__badge_size--dot|åœ†ç‚¹å‹badgeå¤§å°|10rpx|
|--app-tabbar__badge_size--text|æ–‡å­—å‹badgeæ–‡å­—å¤§å°|20rpx|
|--app-tabbar__badge_radius--text|æ–‡å­—å‹badgeåœ†è§’å¤§å°|20rpx|
|--app-tabbar__badge_color|æ–‡å­—å‹badgeæ–‡å­—é¢œè‰²|#ffffff|
|--app-tabbar__badge_background|badgeèƒŒæ™¯é¢œè‰²|#ff6d2c|

##### è‡ªå®šä¹‰tabbar

```vue
<template>
  <app-container :percept="thePercept">
    <!-- å°ç¨‹åºç«¯ä¸æ”¯æŒåŠ¨æ€ç»„ä»¶ -->
    <!-- <template v-for="(tab) in tabbarItems"> -->
    <!--   <template v-if="tab.component != null && activeComponents[tab.component]"> -->
    <!--     <component v-show="currentComponent === tab.component" -->
    <!--                :is="tab.component" -->
    <!--                :key="tab.name" -->
    <!--                :percept="thePercept && currentComponent === tab.component"></component> -->
    <!--   </template> -->
    <!-- </template> -->

    <the-home v-if="activeComponents['TheHome']"
              v-show="currentComponent === 'TheHome'"
              :percept="thePercept && currentComponent === 'TheHome'"></the-home>
    <the-mine v-if="activeComponents['TheMine']"
              v-show="currentComponent === 'TheMine'"
              :percept="thePercept && currentComponent === 'TheMine'"></the-mine>

    <app-tabbar v-model="currentComponent" :items="tabbarItems"></app-tabbar>
  </app-container>
</template>

<script>
  import AppTabbar from "@/components/AppTabbar";
  import TheHome from "./components/TheHome.vue";
  import TheMine from "./components/TheMine.vue";

  import lifecycleMixin from "@/mixins/lifecycle";

  const tabbarItems = [{
    name: "é¦–é¡µ",
    component: "TheHome",
    icon: "/static/icons/tabbar_home.png",
    iconSelected: "/static/icons/tabbar_home_selected.png"
  }, {
    name: "æˆ‘çš„",
    component: "TheMine",
    icon: "/static/icons/tabbar_mine.png",
    iconSelected: "/static/icons/tabbar_mine_selected.png"
  }];

  export default {
    components: { AppTabbar, TheHome, TheMine },
    mixins: [lifecycleMixin],
    data() {
      return {
        tabbarItems: tabbarItems,
        currentComponent: tabbarItems[0].component,
        activeComponents: {}
      }
    },
    watch: {
      currentComponent: {
        handler(value) {
          if (value != null) {
            this.activeComponents[value] = true;
          }
        },
        immediate: true
      }
    },
    onLoad({ component }) {
      if (component != null) {
        this.currentComponent = component;
      }
    }
  }
</script>
```

> ä¸Šæ–¹ç¤ºä¾‹æ˜¯ä¸€ä¸ªtabbarå®¹å™¨é¡µé¢çš„åŸºæœ¬æ¡†æ¶ `/pages/main/index.vue`

```vue
<template>
  <app-container :percept="percept">
    <app-navbar title="é¦–é¡µ" :show-left="false"></app-navbar>

    <app-safearea :cushion-height="140"></app-safearea>
  </app-container>
</template>

<script>
  export default {
    name: "TheHome",
    props: {
      percept: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {}
    },
    watch: {
      percept(value){
        if (value) {
          // è¿™é‡Œç›¸å½“äºé¡µé¢çš„onShowç”Ÿå‘½å‘¨æœŸ
        }
      }
    },
    // æ³¨æ„è¿™é‡Œä½¿ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯ç»„ä»¶çš„createdè€Œä¸æ˜¯é¡µé¢çš„onLoad
    created() {

    },
    // å¯ä»¥çœ‹ä½œonReady
    mounted() {

    }
  }
</script>
```

> ä¸Šæ–¹ç¤ºä¾‹æ˜¯ä¸€ä¸ªtabé¡µé¢çš„åŸºæœ¬æ¡†æ¶ `/pages/main/components/TheHome.vue`

- ä¸ºäº†å®ç°tabbarçš„çµæ´»æ§åˆ¶ï¼ˆåŒ…æ‹¬æ ·å¼ã€å±‚çº§ã€æ˜¾ç¤º/éšè—ç­‰ï¼‰ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¤šç«¯ç»Ÿä¸€ï¼Œé¡¹ç›®ä¸­é‡‡ç”¨äº†ä»¥ç»„ä»¶æ¨¡æ‹Ÿé¡µé¢çš„æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨ `v-if` å’Œ `v-show` æ¨¡æ‹Ÿtabé¡µé¢çš„åŠŸèƒ½ï¼ˆå³ ç¬¬ä¸€æ¬¡å±•ç¤ºtabé¡µé¢çš„æ—¶å€™ï¼Œé¡µé¢æ‰å¼€å§‹æŒ‚è½½ï¼Œç¦»å¼€é¡µé¢åä¸é”€æ¯é¡µé¢å®ä¾‹ï¼‰ï¼ŒåŒæ—¶å®ç°äº† `uni.simulateSwitchTab` æ–¹æ³•ç”¨äºæ¨¡æ‹Ÿ `uni.switchTab`  ä¾¿äºtabé¡µé¢çš„è·³è½¬ï¼ˆç”±äºæ˜¯å•é¡µå®ç°æ–¹æ¡ˆï¼Œè‹¥tabé¡µé¢åŠŸèƒ½å¤æ‚åˆ™ä¼šå½±å“åº”ç”¨æ€§èƒ½ï¼Œè‹¥å¯¹æ€§èƒ½è¦æ±‚ä¸¥è‹›å¯è‡ªè¡Œæ”¹é€ å…¶ä»–æ–¹æ¡ˆï¼‰

- tabbarå®¹å™¨é¡µé¢ä½œä¸ºtabé¡µé¢çš„å…¥å£ï¼Œä¹Ÿå°±æ‰¿æ‹…äº†ä¸ºå„ä¸ªtabé¡µé¢åˆ†å‘æ•°æ®çš„èŒè´£ï¼Œä¾‹å¦‚ `lifecycleMixin` ä¸­çš„æ•°æ®ä»¥åŠå…¶ä»–é¢å¤–çš„éœ€è¦ä¼ é€’ç»™æŸä¸ªtabé¡µé¢çš„å‚æ•°ï¼Œé€šè¿‡çˆ¶å­ç»„ä»¶ä¼ å‚çš„å½¢å¼å®ç°; tabé¡µé¢è‹¥éœ€è¦ä¼ å‚ç»™tabbarå®¹å™¨é¡µé¢ï¼Œå¯é€šè¿‡ `$emit` æˆ–è€… `VueX` ç­‰æ–¹å¼å®ç°

- è‹¥éœ€è¦å¯åŠ¨tabbarå®¹å™¨é¡µé¢æ—¶æŒ‡å®šå±•ç¤ºæŸä¸ªtabé¡µé¢ï¼Œå¯é€šè¿‡è·¯ç”±è·³è½¬çš„ `query.component` æŒ‡å®šï¼Œä¹Ÿå¯ä»¥è°ƒç”¨ `uni.simulateSwitchTab({ url: "æŸä¸ªtabé¡µé¢çš„ç»„ä»¶åç§°" })` æ¥å®ç°è·³è½¬ï¼Œç¤ºä¾‹å¦‚ä¸‹

	```javascript
	// tabbarå®¹å™¨é¡µé¢å¯åŠ¨æ—¶æŒ‡å®š
	uni.reLaunch({
	  url: "/pages/main/index?component=TheMine"
	});

	// ä»»ä½•æ—¶å€™è·³è½¬
	// æ³¨æ„ï¼šä½¿ç”¨è¯¥æ–¹æ³•éœ€è¦åœ¨ /utils/config.js ä¸­é…ç½® route.simulateTabbarPage ä¸ºtabbarå®¹å™¨é¡µ	é¢è·¯å¾„ï¼ˆå³ï¼š/pages/main/indexï¼‰
	uni.simulateSwitchTab({
	  url: "TheMine"
	});

	// æ‰«ç è¿›å…¥å¯åŠ¨æ—¶åŒç†ï¼Œå¯æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹tabbarå®¹å™¨é¡µé¢çš„onLoadæ–¹æ³•
	```

- ç”±äºé‡‡ç”¨ç»„ä»¶æ¨¡æ‹Ÿtabé¡µé¢ï¼Œæ‰€ä»¥ä¹Ÿå°±å¤±å»äº†é¡µé¢æ‰€æ‹¥æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œè‹¥éœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œåˆ™ä½¿ç”¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä»£æ›¿ï¼Œå…¶ä¸­ `onShow` åˆ™é€šè¿‡ `watch` ç»„ä»¶çš„ `percept` å±æ€§å®ç°

- ä¸é‡‡ç”¨å¾®ä¿¡å°ç¨‹åº `custom-tab-bar` çš„æ–¹æ¡ˆæ˜¯å› ä¸ºè¯¥æ–¹æ¡ˆä»…å¾®ä¿¡å°ç¨‹åºç«¯æ”¯æŒ

- å¦å¤–æŸäº›é€šè¿‡ä½¿ç”¨ `reLaunch` å®ç°çš„å¤šé¡µæ–¹æ¡ˆå¹¶ä¸èƒ½è¾¾åˆ°tabé¡µé¢çš„åŠŸèƒ½è¦æ±‚ï¼Œå› ä¸ºæ¯æ¬¡åˆ‡æ¢tabé¡µé¢å‡ä¼šé‡æ–°ç”Ÿæˆé¡µé¢å®ä¾‹ï¼Œè€Œéšè—çš„é¡µé¢åˆ™ä¼šè¢«é”€æ¯

#### AppSafearea

> æœ¬ç»„ä»¶ç”¨äºå®‰å…¨åŒºåŸŸå ä½ï¼Œä¸”å¯æä¾›é¢å¤–å«é«˜ã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|direction|å®‰å…¨åŒºåŸŸæ–¹å‘|String|top / right / bottom / left|bottom|
|cushion|æ˜¯å¦å«é«˜|Boolean|-|`true`|
|cushion-height|å«é«˜é«˜åº¦ï¼ˆå•ä½ï¼šrpxï¼‰|Number|-|`60`|

##### å®‰å…¨åŒºåŸŸ

- ä¸€èˆ¬æƒ…å†µï¼Œç›´æ¥å°† `AppSafearea` æ·»åŠ è‡³ `AppContainer` æœ«å°¾

	```vue
	<template>
	  <app-container :percept="thePercept">
	    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

	    <!-- é¡µé¢å†…å®¹ -->

	    <app-safearea></app-safearea>
	  </app-container>
	</template>
	```

- é¡µé¢å†…åŒ…å«å¯æ»šåŠ¨åˆ°å±å¹•åº•éƒ¨çš„å…ƒç´ ï¼Œåˆ™å°† `AppSafearea` æ·»åŠ è‡³æ»šåŠ¨å…ƒç´ æœ«å°¾

	```vue
	<template>
	  <app-container :percept="thePercept">
	    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

	    <view :style="{height: `calc(100% - ${navigationBarHeight}px)`}">
	      <!-- é¡µé¢å†…å®¹ -->

	      <app-safearea></app-safearea>
	    </view>
	  </app-container>
	</template>
	```

- è‹¥é¡µé¢åŒ…å« `fixed` åˆ°å±å¹•åº•éƒ¨çš„å…ƒç´ ï¼Œåˆ™å°† `AppSafearea` æ·»åŠ è‡³ `fixed` å…ƒç´ åº•éƒ¨å¹¶å°† `cushion` å±æ€§è®¾ç½®ä¸º `false`ï¼ŒåŒæ—¶é¡µé¢ä¸­å¯æ»šåŠ¨å…ƒç´ æœ«å°¾ä¹Ÿéœ€è¦æ·»åŠ  `AppSafearea` å¹¶å°† `cushion-height` è®¾ç½®ä¸º `fixed` å…ƒç´ çš„é«˜åº¦ï¼ˆå•ä½ï¼š`rpx`ï¼‰

	```vue
	<template>
	  <app-container :percept="thePercept">
	    <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

	    <!-- é¡µé¢å†…å®¹ -->

	    <app-safearea :cushion-height="100"></app-safearea>

	    <view class="page-footer">
	      <view class="page-footer__inner"></view>
	      <app-safearea :cushion="false"></app-safearea>
	    </view>
	  </app-container>
	</template>

	<style lang="scss" scoped>
	  .page-footer {
	    position: fixed;
	    right: 0;
	    bottom: 0;
	    left: 0;
	  }

	  .page-footer__inner {
	    height: 100rpx;
	  }
	</style>
	```

#### AppVideo

> æœ¬ç»„ä»¶ç”¨äºè§†é¢‘æ’­æ”¾ï¼ŒAPP-PLUSç«¯ä½¿ç”¨iframeå®ç°åŒå±‚æ¸²æŸ“ã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|* vid|æ’­æ”¾å™¨id|String|-|-|
|* src|è¦æ’­æ”¾è§†é¢‘çš„èµ„æºåœ°å€|String|-|-|
|width|ç»„ä»¶å®½åº¦|String|-|100%|
|height|ç»„ä»¶é«˜åº¦|String|-|100%|
|border-radius|ç»„ä»¶åœ†è§’|String|-|0|
|duration|æŒ‡å®šè§†é¢‘æ—¶é•¿|Number|-|-|
|autoplay|æ˜¯å¦è‡ªåŠ¨æ’­æ”¾|Boolean|-|`false`|
|loop|æ˜¯å¦å¾ªç¯æ’­æ”¾|Boolean|-|`false`|
|muted|æ˜¯å¦é™éŸ³æ’­æ”¾|Boolean|-|`false`|
|controls|æ˜¯å¦æ˜¾ç¤ºé»˜è®¤æ’­æ”¾æ§ä»¶|Boolean|-|`true`|
|poster|è§†é¢‘å°é¢çš„å›¾ç‰‡ç½‘ç»œèµ„æºåœ°å€|String|-|-|
|---|ä»¥ä¸‹å±æ€§ä»… `éAPP-PLUS` ç«¯æ”¯æŒ|---|---|---|
|title|è§†é¢‘æ ‡é¢˜|String|-|-|
|direction|è®¾ç½®å…¨å±æ—¶è§†é¢‘çš„æ–¹å‘ï¼Œä¸æŒ‡å®šåˆ™æ ¹æ®å®½é«˜æ¯”è‡ªåŠ¨åˆ¤æ–­|Number|`0` / `90` / `-90`|-|
|initial-time|æŒ‡å®šè§†é¢‘åˆå§‹æ’­æ”¾ä½ç½®|Number|-|-|
|object-fit|å½“è§†é¢‘å¤§å°ä¸videoå®¹å™¨å¤§å°ä¸ä¸€è‡´æ—¶ï¼Œè§†é¢‘çš„è¡¨ç°å½¢å¼|String|contain / fill / cover|contain|
|vslide-gesture|åœ¨éå…¨å±æ¨¡å¼ä¸‹ï¼Œæ˜¯å¦å¼€å¯äº®åº¦ä¸éŸ³é‡è°ƒèŠ‚æ‰‹åŠ¿|Boolean|-|`false`|
|vslide-gesture-in-fullscreen|åœ¨å…¨å±æ¨¡å¼ä¸‹ï¼Œæ˜¯å¦å¼€å¯äº®åº¦ä¸éŸ³é‡è°ƒèŠ‚æ‰‹åŠ¿|Boolean|-|`true`|
|danmu-list|å¼¹å¹•åˆ—è¡¨|Array|-|-|
|danmu-btn|æ˜¯å¦æ˜¾ç¤ºå¼¹å¹•æŒ‰é’®|Boolean|-|`false`|
|play-btn-position|æ’­æ”¾æŒ‰é’®çš„ä½ç½®|String|bottom / center|bottom|
|ad-unit-id|è§†é¢‘å‰è´´å¹¿å‘Šå•å…ƒID|String|-|-|
|poster-for-crawler|ç”¨äºç»™æœç´¢ç­‰åœºæ™¯ä½œä¸ºè§†é¢‘å°é¢å±•ç¤º|String|-|-|
|auto-pause-if-navigate|å½“è·³è½¬åˆ°æœ¬å°ç¨‹åºçš„å…¶ä»–é¡µé¢æ—¶ï¼Œæ˜¯å¦è‡ªåŠ¨æš‚åœæœ¬é¡µé¢çš„è§†é¢‘æ’­æ”¾|Boolean|-|`true`|
|auto-pause-if-open-native|å½“è·³è½¬åˆ°å…¶å®ƒå¾®ä¿¡åŸç”Ÿé¡µé¢æ—¶ï¼Œæ˜¯å¦è‡ªåŠ¨æš‚åœæœ¬é¡µé¢çš„è§†é¢‘|Boolean|-|`true`|
|picture-in-picture-mode|è®¾ç½®å°çª—æ¨¡å¼|String / Array|push / pop / `[]`|-|
|picture-in-picture-show-progress|æ˜¯å¦åœ¨å°çª—æ¨¡å¼ä¸‹æ˜¾ç¤ºæ’­æ”¾è¿›åº¦|Boolean|-|`false`|
|background-poster|è¿›å…¥åå°éŸ³é¢‘æ’­æ”¾åçš„é€šçŸ¥æ å›¾æ ‡ï¼ˆAndroidç‹¬æœ‰ï¼‰|String|-|-|
|referrer-policy|referrerç­–ç•¥|String|origin / no-referrer|no-referrer|
|enable-danmu|æ˜¯å¦å±•ç¤ºå¼¹å¹•|Boolean|-|`false`|
|enable-play-gesture|æ˜¯å¦å¼€å¯æ’­æ”¾æ‰‹åŠ¿ï¼Œå³åŒå‡»åˆ‡æ¢æ’­æ”¾/æš‚åœ|Boolean|-|`true`|
|enable-progress-gesture|æ˜¯å¦å¼€å¯æ§åˆ¶è¿›åº¦çš„æ‰‹åŠ¿|Boolean|-|`true`|
|enable-auto-rotation|æ˜¯å¦å¼€å¯æ‰‹æœºæ¨ªå±æ—¶è‡ªåŠ¨å…¨å±ï¼Œå½“ç³»ç»Ÿè®¾ç½®å¼€å¯è‡ªåŠ¨æ—‹è½¬æ—¶ç”Ÿæ•ˆ|Boolean|-|`false`|
|show-mute-btn|æ˜¯å¦æ˜¾ç¤ºé™éŸ³æŒ‰é’®|Boolean|-|`false`|
|show-progress|æ˜¯å¦æ˜¾ç¤ºè¿›åº¦æ¡|Boolean|-|`true`|
|show-fullscreen-btn|æ˜¯å¦æ˜¾ç¤ºå…¨å±æŒ‰é’®|Boolean|-|`true`|
|show-bottom-progress|æ˜¯å¦å±•ç¤ºåº•éƒ¨è¿›åº¦æ¡|Boolean|-|`true`|
|show-play-btn|æ˜¯å¦æ˜¾ç¤ºè§†é¢‘åº•éƒ¨æ§åˆ¶æ çš„æ’­æ”¾æŒ‰é’®|Boolean|-|`true`|
|show-center-play-btn|æ˜¯å¦æ˜¾ç¤ºè§†é¢‘ä¸­é—´çš„æ’­æ”¾æŒ‰é’®|Boolean|-|`true`|
|show-casting-button|æ˜¯å¦æ˜¾ç¤ºæŠ•å±æŒ‰é’®|Boolean|-|`false`|
|show-snapshot-button|æ˜¯å¦æ˜¾ç¤ºæˆªå±æŒ‰é’®|Boolean|-|`true`|
|show-screen-lock-button|æ˜¯å¦æ˜¾ç¤ºé”å±æŒ‰é’®|Boolean|-|`true`|
|show-background-playback-button|æ˜¯å¦å±•ç¤ºåå°éŸ³é¢‘æ’­æ”¾æŒ‰é’®|Boolean|-|`false`|

##### Events

> æ³¨æ„ï¼šç”±äº `APP-PLUS` ç«¯ä½¿ç”¨ `iframe` å®ç°åŒå±‚æ¸²æŸ“ï¼Œæ•… `events` ä¸ `éAPP-PLUS` ç«¯æœ‰æ‰€å·®å¼‚ï¼Œä¸”å‡æ— å›è°ƒå‚æ•°ï¼Œä¸‹è¡¨ä¸­å›è°ƒå‚æ•°ä»… `éAPP-PLUS` ç«¯æœ‰æ•ˆï¼Œ`APP-PLUS` ç«¯å¯é€šè¿‡ç»„ä»¶ `ref` çš„ `instance` å±æ€§è®¿é—® `video` å…ƒç´ å®ä¾‹ä»¥åŠå…¶ä»– `video` ç»„ä»¶ç›¸å…³æ“ä½œï¼Œè‹¥ä¸ `éAPP-PLUS` ç«¯æœ‰å·®å¼‚è¯·æ³¨æ„æ¡ä»¶ç¼–è¯‘ã€‚

|äº‹ä»¶|è¯´æ˜|å›è°ƒå‚æ•°|
|---|---|---|
|play|å¼€å§‹/ç»§ç»­æ’­æ”¾|-|
|pause|æš‚åœæ’­æ”¾|-|
|ended|æ’­æ”¾åˆ°æœ«å°¾|-|
|timeupdate|æ’­æ”¾è¿›åº¦å˜åŒ–|event.detail = {currentTime, duration}|
|waiting|è§†é¢‘å‡ºç°ç¼“å†²|-|
|progress|åŠ è½½è¿›åº¦å˜åŒ–|event.detail = {buffered}|
|loadedmetadata|è§†é¢‘å…ƒæ•°æ®åŠ è½½å®Œæˆ|event.detail = {width, height, duration}|
|---|ä»¥ä¸‹äº‹ä»¶ä»… `éAPP-PLUS` ç«¯æ”¯æŒ|---|
|error|è§†é¢‘æ’­æ”¾å‡ºé”™|-|
|controlstoggle|åˆ‡æ¢controlsæ˜¾ç¤ºéšè—|event.detail = {show}|
|seekcomplete|seekå®Œæˆ|event.detail = {position}|
|fullscreenchange|è§†é¢‘è¿›å…¥å’Œé€€å‡ºå…¨å±|event.detail = {fullScreen, direction}|
|enterpictureinpicture|æ’­æ”¾å™¨è¿›å…¥å°çª—|-|
|leavepictureinpicture|æ’­æ”¾å™¨é€€å‡ºå°çª—|-|
|---|ä»¥ä¸‹äº‹ä»¶ä»… `APP-PLUS` ç«¯æ”¯æŒ|---|
|canplay|æµè§ˆå™¨å¯ä»¥æ’­æ”¾åª’ä½“æ–‡ä»¶äº†ï¼Œä½†ä¼°è®¡æ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®æ¥æ”¯æ’‘æ’­æ”¾åˆ°ç»“æŸï¼Œä¸å¿…åœä¸‹æ¥è¿›ä¸€æ­¥ç¼“å†²å†…å®¹|-|
|canplaythrough|æµè§ˆå™¨ä¼°è®¡å®ƒå¯ä»¥åœ¨ä¸åœæ­¢å†…å®¹ç¼“å†²çš„æƒ…å†µä¸‹æ’­æ”¾åª’ä½“ç›´åˆ°ç»“æŸ|-|
|complete|OfflineAudioContextæ¸²æŸ“å®Œæˆ|-|
|durationchange|durationå±æ€§çš„å€¼æ”¹å˜æ—¶è§¦å‘|-|
|emptied|è§†é¢‘åœæ­¢æ’­æ”¾ï¼Œå› ä¸ºmediaå·²ç»åˆ°è¾¾ç»“æŸç‚¹|-|
|loadeddata|mediaä¸­çš„é¦–å¸§å·²ç»å®ŒæˆåŠ è½½|-|
|playing|ç”±äºç¼ºä¹æ•°æ®è€Œæš‚åœæˆ–å»¶è¿Ÿåï¼Œæ’­æ”¾å‡†å¤‡å¼€å§‹|-|
|ratechange|æ’­æ”¾é€Ÿç‡å‘ç”Ÿå˜åŒ–|-|
|seeked|seekæ“ä½œå®Œæˆ|-|
|seeking|seekæ“ä½œå¼€å§‹|-|
|stalled|ç”¨æˆ·ä»£ç†(UserAgent)æ­£åœ¨å°è¯•è·å–åª’ä½“æ•°æ®ï¼Œä½†æ•°æ®æ„å¤–æœªå‡ºç°|-|
|suspend|åª’ä½“æ•°æ®åŠ è½½å·²æš‚åœ|-|
|volumechange|éŸ³é‡å‘ç”Ÿå˜åŒ–|-|

##### ç›¸å…³è¯´æ˜

- `video` å®ä¾‹çš„ä½¿ç”¨ï¼ˆ`APP-PLUS` ç«¯ä¸º `HTMLVideoElement`ï¼Œ`éAPP-PLUS` ç«¯ä¸º `VideoContext`ï¼‰

	```vue
	<template>
	  <app-container>
	  	<app-video ref="video" vid="å”¯ä¸€çš„ç»„ä»¶id" src="è§†é¢‘url"></app-video>
	  </app-container>
	</template>

	<script>
	  export default {
	    // è¦ç¡®ä¿èƒ½è®¿é—®åˆ°AppVideoçš„refï¼Œè¿™é‡Œåœ¨onReadyä¸­æ“ä½œä»…ä½œç¤ºä¾‹
	    onReady() {
	      const { instance } = this.$refs.video;

	      // è§†é¢‘å…¨å±æ’­æ”¾ï¼ˆè¿™é‡ŒAPP-PLUSç«¯å’ŒéAPP-PLUSç«¯çš„apiç›¸åŒï¼Œæ‰€ä»¥æ— éœ€æ¡ä»¶ç¼–è¯‘ï¼‰
	      instance.requestFullScreen();
	    }
	  }
	</script>
	```

#### AppAreaPicker

> æœ¬ç»„ä»¶åœ°åŒºé€‰æ‹©ï¼Œä¼ å…¥åœ°åŒºç¼–ç å³å¯è‡ªåŠ¨å®šä½è‡³ç›®æ ‡åœ°åŒºã€‚

##### Props

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|code|åœ°åŒºç¼–ç |String|-|`null`|
|showï¼ˆæ”¯æŒ `.sync`ï¼‰|æ˜¯å¦å±•ç¤ºé€‰æ‹©å™¨|Boolean|-|`false`|
|title|é€‰æ‹©å™¨æ ‡é¢˜|String|-|-|
|level|é€‰æ‹©åœ°åŒºå±‚çº§|Number|-|`3`|
|codeLevelLength|æ¯çº§åœ°åŒºç¼–ç é•¿åº¦|Number|-|`2`|
|codePadChar|åœ°åŒºç¼–ç å³è¡¥å­—ç¬¦|String|-|0|
|confirmText|ç¡®å®šæŒ‰é’®æ–‡å­—|String|-|ç¡®å®š|
|cancelText|å–æ¶ˆæŒ‰é’®æ–‡å­—|String|-|å–æ¶ˆ|

##### Events

|äº‹ä»¶|è¯´æ˜|å›è°ƒå‚æ•°|
|---|---|---|
|update:show|showçš„å€¼æ”¹å˜|valueï¼šé€‰æ‹©å™¨æ˜¯å¦å±•ç¤º|
|confirm|ç‚¹å‡»ç¡®å®š|indexsï¼šå„åˆ—é€‰ä¸­é¡¹ç´¢å¼•ï¼Œvalueï¼šå„åˆ—é€‰ä¸­é¡¹çš„å€¼ï¼Œvaluesï¼šå„åˆ—åˆ—è¡¨æ•°æ®|

##### ç›¸å…³è¯´æ˜

- `codeLevelLength` å’Œ `codePadChar` ä¸¤ä¸ªå‚æ•°åº”æ ¹æ®æ¥å£å®é™…æ•°æ®ä¿®æ”¹é»˜è®¤å€¼æˆ–é€šè¿‡ç»„ä»¶å‚æ•°ä¼ å…¥

	- è¿™é‡Œä»¥æˆéƒ½å¸‚é”¦æ±ŸåŒºçš„æ ‡å‡†åŒºåˆ’ä»£ç ä¸ºä¾‹

		- é”¦æ±ŸåŒºçš„ç¼–ç ä¸º 51 01 04

		- æˆéƒ½å¸‚çš„ç¼–ç ä¸º 51 01 00

		- å››å·çœçš„ç¼–ç ä¸º 51 00 00

		- é€šè¿‡ä»¥ä¸Šç¤ºä¾‹å¯æ€»ç»“å‡ºè¯¥ç¼–ç æ¯ä¸€çº§çš„é•¿åº¦(`codeLevelLength`)ä¸º2ï¼Œåœ°åŒºç¼–ç è¡¥é½æ—¶å³è¡¥å­—ç¬¦(`codePadChar`)ä¸º0

- ç»„ä»¶æœ¬èº«ä¸æä¾›åœ°åŒºæ•°æ®ï¼Œéœ€è¦è‡ªè¡Œæä¾›æ¥å£å¹¶æ”¹é€ æ•°æ®æŸ¥è¯¢ç›¸å…³éƒ¨åˆ†ï¼ˆæ³¨æ„ `AppAreaPicker.vue` æ–‡ä»¶çš„æ³¨é‡Šä¸­å¸¦ğŸ˜€çš„éƒ¨åˆ†ï¼‰

	1. æ ¹æ®å®é™…æƒ…å†µimportå¯¹åº”çš„æ¥å£å®šä¹‰ï¼Œè¯¥æ¥å£éœ€è¦å¯ä»¥é€šè¿‡çˆ¶çº§åœ°åŒºcodeæŸ¥è¯¢å­åœ°åŒºåˆ—è¡¨ï¼Œç¤ºä¾‹å¦‚ä¸‹

		```javascript
		import { apiQueryAreasByAdcode } from "@/service/index.js";
		```

	1. æ”¹é€  `methods` ä¸­çš„ `requestAreasByAdcode(adcode)` æ–¹æ³•ç”¨äºè·å–åœ°åŒºæ•°æ®

		```javascript
		async requestAreasByAdcode(adcode = "") {
		  try {
		    this.loading = true;

		    // ğŸ˜€ æ ¹æ®å®é™…æƒ…å†µè°ƒç”¨æ¥å£æŸ¥è¯¢æŒ‡å®šåŒºåŸŸä¸‹çš„å­åŒºåŸŸåˆ—è¡¨

		    // const { data } = await apiQueryAreasByAdcode({
		    //   "code": adcode
		    // });

		    // ğŸ˜€ å¦‚æœæ¥å£è¿”å›æ•°æ®ç»“æ„ä¸æ˜¯ {code, name, children} çš„è¯ï¼Œéœ€è¦æ‰‹åŠ¨åšä¸€ä¸‹è½¬æ¢
		    // codeï¼šåŒºåŸŸç¼–ç 
		    // nameï¼šåŒºåŸŸåç§°
		    // childrenï¼šå­åŒºåŸŸåˆ—è¡¨ï¼ˆè¿™é‡Œçš„å€¼å›ºå®šè®¾ç½®ä¸ºnullï¼‰

		    // return data.map((item) => ({
		    //   code: item.code,
		    //   name: item.name,
		    //   children: null
		    // }));

		    // ğŸ˜€ æ¥å£è°ƒæ•´å®Œæˆåï¼Œç§»é™¤ä¸‹é¢è¿™ä¸€è¡Œ
		    return [];
		  } catch {
		    return [];
		  } finally {
		    this.loading = false;
		  }
		}
		```

- ä½¿ç”¨ç¤ºä¾‹

	```vue
	<template>
	  <app-container>
	    <app-area-picker :show.sync="show" 
	                     :code="code"
	                     @confirm="confirm"></app-area-picker>
	  </app-container>
	</template>

	<script>
	  // æ³¨æ„ï¼šç¤ºä¾‹ä¸­çš„å˜é‡ååŠæ–¹æ³•åå‡ä¸ºç¤ºæ„ï¼Œå®é™…æƒ…å†µåº”æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯æŒ‰ç…§å®é™…æ„ä¹‰å‘½åï¼Œè€Œæ— éœ€è·ŸpropåŒå
	  export default {
	    data() {
	      return {
	        show: false,
	        code: null
	      }
	    },
	    methods: {
	      confirm({ indexs, value, values }) {
	        console.log("åœ°åŒºé€‰æ‹©å™¨ç¡®å®š", indexs, value, values);
	      }
	    }
	  }
	</script>
	```

### ğŸŒ ç½‘ç»œè¯·æ±‚

> é¡¹ç›®ä¸­å¯¹uniappçš„ç½‘ç»œè¯·æ±‚æ–¹æ³•åšäº†è®¸å¤šå®ç”¨çš„å°è£…ï¼Œè®©ç½‘ç»œè¯·æ±‚ä¸å†ç¹çï¼Œä»…éœ€1è¡Œä»£ç å³å¯å‘èµ·è¯·æ±‚ã€‚(`/utils/network.js`)

##### è¯·æ±‚æ–¹å¼

- `network.js` ä¸­å¯¹ä¸åŒçš„è¯·æ±‚æ–¹å¼å¯¼å‡ºäº†ç›¸åº”çš„æ–¹æ³•ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½åŸºäºç»Ÿä¸€çš„ `_request` æ–¹æ³•å®ç°ï¼Œé™¤è¯·æ±‚æ–¹å¼ä¸åŒä»¥å¤–ï¼Œå…¶ä½™ç”¨æ³•å‡ä¸€è‡´

	- GETï¼š`_get(url, data, config)`

	- DELETEï¼š`_delete(url, data, config)`

	- HEADï¼š`_head(url, data, config)`

	- OPTIONSï¼š`_options(url, data, config)`

	- POSTï¼š`_post(url, data, config)`

	- PUTï¼š`_put(url, data, config)`

	- TRACEï¼š`_trace(url, data, config)`

	- CONNECTï¼š`_connect(url, data, config)`

- `url` å‚æ•°ä¼ é€’å…¨å±€é…ç½®(`/utils/config.js`)ä¸­è¯·æ±‚åŸºåœ°å€(`http.requestBaseUrl`)ä¹‹åçš„è·¯å¾„å³å¯ï¼Œè‹¥éœ€è¦è¯·æ±‚å…¶ä»–åŸºåœ°å€çš„æ¥å£ï¼Œåˆ™ç›´æ¥ä¼ é€’å…¨è·¯å¾„

- å…¶ä¸­ `_get` æ–¹æ³•æ¯”è¾ƒç‰¹æ®Šï¼Œå…¶ `data` å‚æ•°ä¼šæ‹¼æ¥è‡³urlæœ«å°¾ä½œä¸ºqueryéƒ¨åˆ†ï¼Œå…¶ä»–æ–¹æ³•åˆ™ä¼šå°†å…¶æ·»åŠ è‡³è¯·æ±‚ä½“ä¸­

- å¦å¤–ï¼Œé™¤ä»¥ä¸Šè¯·æ±‚æ–¹å¼å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„è¯·æ±‚ï¼Œåˆ†åˆ«æ˜¯ä¸Šä¼ å’Œä¸‹è½½ï¼Œä¹Ÿæä¾›äº†ä¸€è‡´çš„ä½¿ç”¨æ–¹å¼

	- ä¸Šä¼ ï¼š`_upload(url, path, progress, config)`

		- `path` å‚æ•°ä¸ºuniappæ–‡ä»¶ä¸´æ—¶è·¯å¾„ï¼Œå¯é€šè¿‡ `uni.chooseMedia` ç­‰APIè·å–

		- `progress` å‚æ•°ä¸ºä¸Šä¼ è¿›åº¦å›è°ƒå‡½æ•°

	- ä¸‹è½½ï¼š`_download(url, progress, config)`

		- `progress` å‚æ•°ä¸ºä¸‹è½½è¿›åº¦å›è°ƒå‡½æ•°

- ä»¥ä¸Šæ–¹æ³•ä¸­çš„ `config` å‚æ•°è¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[è¯·æ±‚é…ç½®](#è¯·æ±‚é…ç½®)éƒ¨åˆ†

- æ¥å£å®šä¹‰æ¨èå†™åœ¨ `service` ç›®å½•ä¸‹ï¼ŒæŒ‰ä¸åŒçš„æ¨¡å—æˆ–æ¥å£ç±»å‹åŒºåˆ†ä¸åŒçš„jsæ–‡ä»¶å®šä¹‰ï¼Œå¹¶ä¸”åœ¨ `/service/index.js` ä¸­ç»Ÿä¸€å¯¼å‡ºï¼Œç¤ºä¾‹å¦‚ä¸‹

	```javascript
	// service/user.js

	import { _post } from "@/utils/network.js";

	/**
	 * ç®€å•ç¤ºä¾‹ï¼ˆå¾®ä¿¡codeç™»å½•ï¼‰
	 */
	export const apiSignInByWxCode = (data) => _post("/sys/sign/in/wx-code", 	data);

	/**
	 * è‹¥è¦è¦†ç›–å…¨å±€é…ç½®æˆ–é»˜è®¤é…ç½®ï¼Œåˆ™åœ¨configä¸­ä¼ é€’å¯¹åº”çš„å‚æ•°ï¼Œä¾‹å¦‚è¯¥è¯·æ±‚åœ¨ä¸šåŠ¡å¼‚å¸¸æ—¶ä¸ä¼šå¼¹å‡ºé”™è¯¯æç¤º
	 */
	export const apiRequestNoToast = () => _post("/test", {}, {
	  toastError: false
	});
	```

	```javascript
	// service/index.js

	export * from "./user.js";
	```

	```javascript
	import { apiSignInByWxCode } from "@/service";

	const { code } = await uni.pro.login();

	// åœ¨asyncæ–¹æ³•ä¸­å¯ç›´æ¥ä½¿ç”¨awaitï¼Œè‹¥ä¸šåŠ¡æ— å¼‚å¸¸åˆ™ç›´æ¥è§£æ„å‡ºdataå³å¯
	// è‹¥éœ€å¤„ç†å¼‚å¸¸æƒ…å†µï¼Œè¯·æŸ¥çœ‹ä¸‹æ–¹(#å¼‚å¸¸å¤„ç†)éƒ¨åˆ†
	const { data } = await apiSignInByWxCode({
	  "code": code
	});
	console.log(data);

	// ä¹Ÿå¯ä»¥ä½¿ç”¨Promiseå½¢å¼
	apiSignInByWxCode({
	  "code": code
	}).then(({ data }) => {
	  console.log(data);
	});
	```

- **æ³¨æ„:** ä¸Šæ–¹ç¤ºä¾‹ä¸­è§£æ„å‡ºçš„ `data` æ˜¯åç«¯æœåŠ¡ç»Ÿä¸€å“åº”ä½“ä¸­çš„æ•°æ®å­—æ®µï¼Œè‹¥éœ€è¦è·å–åŸå§‹æ•°æ®ï¼Œå¯è§£æ„å‡º `raw` å­—æ®µ

- é’ˆå¯¹ä¸åŒåç«¯æœåŠ¡ç»Ÿä¸€å“åº”ä½“çš„å­—æ®µä¸åŒçš„æƒ…å†µï¼Œå¯åœ¨å…¨å±€é…ç½®(`/utils/config.js`)ä¸­é…ç½® `http.fieldCode`ã€`http.fieldMessage`ã€`http.fieldData` å­—æ®µï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[è¯·æ±‚é…ç½®](#è¯·æ±‚é…ç½®)éƒ¨åˆ†

##### å¼‚å¸¸å¤„ç†

- æˆ‘ä»¬é€šå¸¸è®¤ä¸ºçš„è¯·æ±‚å¼‚å¸¸å³ä¸ºæ¥å£å“åº”çš„codeå­—æ®µå€¼ä¸å®šä¹‰çš„æˆåŠŸå€¼ä¸åŒï¼Œä¸€èˆ¬çš„ä¸šåŠ¡å¼‚å¸¸ç›´æ¥å¼¹å‡ºé”™è¯¯æç¤ºå¹¶ä¸”é€»è¾‘åœæ­¢æ‰§è¡Œå³å¯ï¼Œtokenå¼‚å¸¸åˆ™é€€å‡ºç™»å½•ï¼Œè¿™äº›æƒ…å†µé¡¹ç›®ä¸­å·²è‡ªåŠ¨å¤„ç†ï¼Œè‹¥æœ‰å…¶ä»–çš„ä¸šåŠ¡éœ€è¦å¯æ‰‹åŠ¨catchè¯·æ±‚æ–¹æ³•ï¼Œåœ¨è¯·æ±‚å¼‚å¸¸çš„æƒ…å†µä¸‹åšè‡ªå·±çš„ä¸šåŠ¡ï¼Œç¤ºä¾‹å¦‚ä¸‹
```javascript
import { apiSignInByWxCode } from "@/service";

const { code } = await uni.pro.login();

try {
  const { data } = await apiSignInByWxCode({
    "code": code
  });

  // ä¸šåŠ¡æ­£å¸¸æƒ…å†µ
} catch(err) {
  // è¿™é‡Œå¯ä»¥å¤„ç†å¼‚å¸¸æƒ…å†µ

  // err = { ...response, state, data, raw }
  // å…¶ä¸­stateçš„å–å€¼å¯åœ¨/utils/config.jsä¸­é…ç½®ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[è¯·æ±‚é…ç½®](#è¯·æ±‚é…ç½®)éƒ¨åˆ†
}

apiSignInByWxCode({
  "code": code
}).then(({ data }) => {
  // ä¸šåŠ¡æ­£å¸¸æƒ…å†µ
}).catch((err) => {
  // Promiseå½¢å¼åŒç†
});
```
- æ­¤å¤„æ¶‰åŠçš„ç›¸å…³é…ç½®é¡¹ï¼Œå¦‚ `code` å­—æ®µçš„è¯·æ±‚æˆåŠŸå€¼ã€tokenå¤±æ•ˆå€¼ç­‰ï¼Œäº¦æŸ¥çœ‹ä¸‹æ–¹[è¯·æ±‚é…ç½®](#è¯·æ±‚é…ç½®)éƒ¨åˆ†

##### åŠ è½½åŠ¨ç”»

- å½“è¯·æ±‚é•¿æ—¶é—´æœªæ”¶åˆ°å“åº”æ—¶ï¼Œä¼šè‡ªåŠ¨å±•ç¤ºåŠ è½½ä¸­çš„å¼¹çª—ï¼ˆå³ `uni.showLoading`ï¼‰ï¼ŒåŠ è½½åŠ¨ç”»çš„å»¶è¿Ÿæ—¶é—´å¯åœ¨å…¨å±€é…ç½®ä¸­çš„ `http.requestLoadingDelay` é…ç½®ï¼Œè‹¥è¯·æ±‚åœ¨æ­¤æ—¶é—´å†…å“åº”ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºåŠ è½½åŠ¨ç”»

- åŠ è½½åŠ¨ç”»æç¤ºæ–‡å­—ç­‰å…¶ä»–é…ç½®ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[è¯·æ±‚é…ç½®](#è¯·æ±‚é…ç½®)éƒ¨åˆ†

##### tokenå¤„ç†

- å½“ `storage` ä¸­å­˜åœ¨ `token` æ—¶ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨æºå¸¦è‡³ `header` ä¸­ï¼Œ`token` å­˜å‚¨ä½ç½®å¯åœ¨å…¨å±€é…ç½®çš„ `storage.token` ä¸­é…ç½®

- å­˜å‚¨ `token` æ–¹å¼å¦‚ä¸‹

	```javascript
	import Config from "@/utils/config.js";

	// æ¨¡æ‹Ÿç™»å½•
	const { data } = await apiSignIn();

	uni.setStorageSync(Config.storage.token, data.token);
	```

##### ä¸­æ–­è¯·æ±‚

- åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå½“è¯·æ±‚è¿˜æœªå“åº”æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸­æ–­è¯·æ±‚ï¼Œæ­¤æ—¶å¯åœ¨ `config` ä¸­ä¼ å…¥ `signal` å±æ€§ï¼Œè¯·æ±‚å‘èµ·æ—¶ï¼Œè¯·æ±‚ `task` ä¼šå›ä¼ è‡³`signal.task` å±æ€§ï¼Œç¤ºä¾‹å¦‚ä¸‹

	```javascript
	// æ¥å£å®šä¹‰ï¼Œä¼ å…¥signalå±æ€§è‡³configå‚æ•°ä¸­
	export const apiRequestTest = (data, signal) => _post("", data, {signal});

	// å®šä¹‰ä¿¡å·é‡ï¼Œç”¨äºæ¥æ”¶è¯·æ±‚task
	const signal = {};
	// å‘èµ·è¯·æ±‚ï¼Œä¼ å…¥signalå³å¯
	apiRequestTest({
	  "some": "value"
	}, signal);

	// åœ¨å‘èµ·è¯·æ±‚åï¼Œåœ¨è¯·æ±‚å“åº”å‰çš„æŸä¸ªæ—¶æœºå¯ä»¥é€šè¿‡æ“ä½œtaskä¸­æ–­è¯·æ±‚
	signal.task.abort();
	// äº¦å¯ä½¿ç”¨ç©ºå®‰å…¨è¿ç®—ç¬¦
	signal.task?.abort();
	```

##### è¯·æ±‚é…ç½®

> è¯·æ±‚é…ç½®åˆ†ä¸ºå…¨å±€é…ç½®å’Œè‡ªå®šä¹‰é…ç½®

- **å…¨å±€é…ç½®**

> `/utils/config.js` ä¸­çš„ `http` éƒ¨åˆ†

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|requestBaseUrl|è¯·æ±‚åŸºåœ°å€ï¼Œå³è¯·æ±‚urlä¸­ç›¸åŒçš„å‰ç¼€éƒ¨åˆ†ï¼ˆä¾‹å¦‚åŸŸåã€é¡¹ç›®å‰ç¼€ç­‰ï¼‰|string|-|`process.env.UNI_APP_REQUEST_BASE_URL`|
|sourceBaseUrl|èµ„æºåŸºåœ°å€ï¼Œç”¨äºå›¾ç‰‡ã€è§†é¢‘ç­‰ç½‘ç»œåœ°å€ç›¸å¯¹è·¯å¾„æ‹¼æ¥ç»Ÿä¸€çš„å‰ç¼€|string|-|`process.env.UNI_APP_SOURCE_BASE_URL`|
|requestTimeout|è¯·æ±‚è¶…æ—¶ï¼ˆå•ä½ï¼šmsï¼‰|number|-|`10 * 1000`|
|requestLoadingDelay|åŠ è½½åŠ¨ç”»å»¶è¿Ÿæ—¶é—´ï¼ˆå•ä½ï¼šmsï¼‰ï¼ˆè‹¥è¯·æ±‚åœ¨æ­¤æ—¶é—´å†…å“åº”ï¼Œåˆ™ä¸ä¼šæ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼‰|number|-|`600`|
|requestAcceptType|è¯·æ±‚æ¥å—æ•°æ®ç±»å‹|string|-|application/json|
|requestContentType|ğŸ˜€ è¯·æ±‚å‘é€æ•°æ®ç±»å‹|string|application/jsonï¼Œapplication/x-www-form-urlencodedï¼Œå…¶ä»–|application/json|
|enableHttp2|å¯ç”¨HTTP2|boolean|-|`false`|
|enableQuic|å¯ç”¨QUIC|boolean|-|`false`|
|enableCache|å¯ç”¨Cache|boolean|-|`false`|
|tokenKey|ğŸ˜€ è¯·æ±‚Headerä¸­Tokençš„key|string|-|Authorization|
|tokenPrefix|ğŸ˜€ è¯·æ±‚Headerä¸­Tokençš„å‰ç¼€|string|-|-|
|fieldCode|ğŸ˜€ å“åº”å†…å®¹å­—æ®µ - code|string|-|code|
|fieldMessage|ğŸ˜€ å“åº”å†…å®¹å­—æ®µ - message|string|-|message|
|fieldData|ğŸ˜€ å“åº”å†…å®¹å­—æ®µ - data|string|-|data|
|codeSuccess|ğŸ˜€ ä¸šåŠ¡çŠ¶æ€ - æ“ä½œæˆåŠŸ|number|-|`200`|
|codeAuthError|ğŸ˜€ ä¸šåŠ¡çŠ¶æ€ - ç™»å½•å¤±æ•ˆ|number|-|`401`|
|stateSuccess|state - ä¸šåŠ¡æ­£å¸¸|number|-|`100`|
|stateBusinessError|state - ä¸šåŠ¡å¼‚å¸¸ï¼ˆå³ `data[fieldCode]` ä¸ `codeSuccess` ä¸ç›¸ç­‰ï¼‰|number|-|`0`|
|stateRequestError|state - è¯·æ±‚å¼‚å¸¸|number|-|`-1`|
|stateHttpError|state - HTTPçŠ¶æ€å¼‚å¸¸|number|-|`-2`|
|stateUnknownError|state - æœªçŸ¥å¼‚å¸¸|number|-|`-3`|
|stateRequestAbort|state - è¯·æ±‚å–æ¶ˆ|number|-|`-4`|
|redirectAuthPage|ğŸ˜€ ç™»å½•å¤±æ•ˆé‡å®šå‘é¡µé¢åœ°å€|string|-|-|
|redirectAuthAction|ğŸ˜€ ç™»å½•å¤±æ•ˆé¡µé‡å®šå‘æ–¹å¼|string / null|`null` / reLaunch / switchTab / navigateTo / simulateSwitchTab|`null`|

- **è‡ªå®šä¹‰é…ç½®**

> æ¥å£å®šä¹‰ä¸­çš„ `config` å‚æ•°

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|url|è¯·æ±‚URL|string|è¯·æ±‚åœ°å€çš„ç›¸å¯¹è·¯å¾„æˆ–å…¨è·¯å¾„|-|
|method|è¯·æ±‚æ–¹å¼|string|GET / DELETE / HEAD / OPTIONS / POST / PUT / TRACE / CONNECT|-|
|data|è¯·æ±‚å‚æ•°|any|-|-|
|timeout|è¯·æ±‚è¶…æ—¶|number|-|`Config.http.requestTimeout`|
|header|è¯·æ±‚header|Record<string, string>|-|-|
|dataType|è¿”å›æ•°æ®æ ¼å¼|string|json / å…¶ä»–|json|
|responseType|å“åº”æ•°æ®ç±»å‹|string|text / arraybuffer|text|
|toastError|æ˜¯å¦æç¤ºé”™è¯¯ä¿¡æ¯|boolean|-|`true`|
|showLoading|æ˜¯å¦æ˜¾ç¤ºåŠ è½½åŠ¨ç”»|boolean|-|`true`|
|loadingText|åŠ è½½æ–‡å­—|string|-|è¯·ç¨å€™|
|ignoreLoadingDelay|æ˜¯å¦å¿½ç•¥ç­‰å¾…å¼¹çª—å»¶æ—¶ï¼ˆè‹¥ä¸º `true`ï¼Œç­‰å¾…å¼¹çª—ä¼šåœ¨è¯·æ±‚å¼€å§‹æ—¶ç«‹å³æ˜¾ç¤ºï¼‰|boolean|-|`false`|
|ignoreToken|æ˜¯å¦è·³è¿‡è‡ªåŠ¨æ·»åŠ token|boolean|-|`false`|
|signal|ä¿¡å·é‡ï¼ˆè‹¥æä¾›åˆ™ä¼šå°†ç½‘ç»œè¯·æ±‚taskå›ä¼ è‡³ `task` å±æ€§ï¼Œå¯ç”¨äºä¸­æ–­è¯·æ±‚ç­‰ï¼‰|any|-|-|
|third|æ˜¯å¦ä¸ºç¬¬ä¸‰æ–¹è¯·æ±‚ï¼ˆè‹¥ä¸º `true`ï¼Œåˆ™ç›´æ¥è¿”å›å“åº”å†…å®¹ï¼Œä¸ä¼šè¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ï¼‰|boolean|-|`false`|
|authNotRedirect|æ˜¯å¦ç¦ç”¨ç™»å½•å¤±æ•ˆé‡å®šå‘|boolean|-|`false`|
|authRedirectPage|ç™»å½•å¤±æ•ˆé‡å®šå‘é¡µé¢åœ°å€|string|-|`Config.http.redirectAuthPage`|
|authRedirectAction|ç™»å½•å¤±æ•ˆé‡å®šå‘æ–¹å¼|string|`null` / reLaunch / switchTab / navigateTo / simulateSwitchTab|`Config.http.redirectAuthAction`|
|key|(ä»… `_upload`) FormDataä¸Šä¼ æ—¶æ–‡ä»¶çš„key|string|-|file|
|extra|(ä»… `_upload`) FormDataä¸Šä¼ æ—¶çš„é™„åŠ ä¿¡æ¯ï¼ˆä¼šåœ¨ä¸Šä¼ æ—¶æºå¸¦åœ¨FormDataä¸­ï¼‰|Record<string, any>|-|-|

- è¯·æ±‚é…ç½®ç›¸å…³è¯´æ˜

	- ä¸Šæ–¹å…¨å±€é…ç½®ä¸­å¸¦ğŸ˜€çš„å‚æ•°æ˜¯ç¬¬ä¸€æ¬¡æ¥å£å¯¹æ¥æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹ï¼Œåº”å½“æ ¹æ®åç«¯æ¥å£æ–‡æ¡£å®šä¹‰ä¸­çš„è§„å®šå­—æ®µé…ç½®å¯¹åº”çš„å€¼ï¼Œéƒ¨åˆ†ç¤ºä¾‹å¦‚ä¸‹

		```json
		{
		  "code": 200,
		  "message": "è¯·æ±‚æˆåŠŸ",
		  "data": {
		    "some": "value"
		  }
		}
		```

		```javascript
		// å‡è®¾è¯·æ±‚å“åº”ä½“å¦‚ä¸Šæ–¹æ‰€ç¤ºï¼Œé‚£ä¹ˆå¯¹åº”çš„å­—æ®µé…ç½®å¦‚ä¸‹
		{
		  // ...
		  http: {
		    fieldCode: "code",
		    fieldMessage: "message",
		    fieldData: "data",
		    codeSuccess: 200
		  }
		  // ...
		}
		```

		> å†ä¸¾ä¸€ä¸ªä¾‹å­

		```json
		{
		  "ret": 0,
		  "msg": "è¯·æ±‚æˆåŠŸ",
		  "res": {
		    "some": "value"
		  }
		}
		```

		```javascript
		// å‡è®¾è¯·æ±‚å“åº”ä½“å¦‚ä¸Šæ–¹æ‰€ç¤ºï¼Œé‚£ä¹ˆå¯¹åº”çš„å­—æ®µé…ç½®å¦‚ä¸‹
		{
		  // ...
		  http: {
		    fieldCode: "ret",
		    fieldMessage: "msg",
		    fieldData: "res",
		    codeSuccess: 0
		  }
		  // ...
		}
		```

	- `requestBaseUrl` å’Œ `sourceBaseUrl` çš„é»˜è®¤å–å€¼æ˜¯å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œå…³äºç¯å¢ƒå˜é‡çš„ä½¿ç”¨è¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[ç¯å¢ƒå˜é‡](#ç¯å¢ƒå˜é‡)éƒ¨åˆ†

	-  å†…ç½® `filter` ä¸­çš„ `sources` å¯ç”¨äºå¿«é€Ÿæ‹¼æ¥ `sourceBaseUrl` å‰ç¼€ï¼Œç”¨æ³•å¦‚ä¸‹

		```vue
		<image :src="url | sources"></image>
		```

	- ç”±äºå°ç¨‹åºä¸­ä¸æ”¯æŒ `FormData`ï¼Œè‹¥æ¥å£è¦æ±‚ä¼ é€’ `FormData` ç±»å‹æ•°æ®ï¼Œåˆ†ä¸ºå¦‚ä¸‹å‡ ç§æƒ…å†µ

		- å‚æ•°ä¸­ä¸åŒ…å«æ–‡ä»¶ï¼Œå°† `requestContentType` ä¿®æ”¹ä¸º `application/x-www-form-urlencoded`ï¼Œæˆ–å°†å•ä¸ªè¯·æ±‚çš„è‡ªå®šä¹‰é…ç½® `header` ä¸­çš„ `content-type` ä¿®æ”¹ä¸º `application/x-www-form-urlencoded`ï¼Œå•ä¸ªè¯·æ±‚çš„ç¤ºä¾‹å¦‚ä¸‹

			```javascript
			export const apiRequestByFormData = (data) => _post("æ¥å£åœ°å€"ï¼Œdataï¼Œ{
			  header: {
			    "content-type": "application/x-www-form-urlencoded"
			  }
			});
			```

		- å‚æ•°ä¸­åŒ…å«ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨ `_upload` æ–¹æ³•å®šä¹‰æ¥å£ï¼Œå°†æ–‡ä»¶ä¸´æ—¶è·¯å¾„ä¼ è‡³ `path` å‚æ•°ï¼Œé™¤æ–‡ä»¶å¤–çš„å…¶ä»–å‚æ•°ä¼ è‡³è‡ªå®šä¹‰é…ç½®ä¸­çš„ `extra` å±æ€§å³å¯ï¼Œç¤ºä¾‹å¦‚ä¸‹

			```javascript
			export const apiRequestByFormData = (path, data) => _upload("æ¥å£åœ°å€", path, null, {
			  key: "file",
			  extra: data
			});
			```

		- å‚æ•°ä¸­åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œå°ç¨‹åºä¸­ä¸æ”¯æŒå¤šæ–‡ä»¶åŒæ—¶ä¸Šä¼ ï¼Œæ— æ³•å®ç°ï¼ˆæ­¤æ—¶éœ€è¦åç«¯ä¿®æ”¹é€»è¾‘ï¼Œä¾‹å¦‚æä¾›å•æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼Œå‰ç«¯é€šè¿‡ `Promise.all` ç­‰æ–¹å¼å®ç°å¤šæ–‡ä»¶ä¸Šä¼ ï¼‰

### ğŸš€ å…¨å±€é…ç½®

> `/utils/config.js` ä¸ºé¡¹ç›®çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šè¯·å‹¿è¿è¡Œæ—¶ä¿®æ”¹é…ç½®æ–‡ä»¶æ•°æ®ï¼Œä»¥å…é€ æˆæ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼‰

é™¤äº†ä¸Šæ–¹[ç½‘ç»œè¯·æ±‚](#ç½‘ç»œè¯·æ±‚)éƒ¨åˆ†æåˆ°çš„é…ç½®ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–å¯é…ç½®é¡¹å¦‚ä¸‹æ‰€ç¤º

> é»˜è®¤å€¼ `Config.defaults`

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|currentTheme|é»˜è®¤ä¸»é¢˜|AppThemeï¼ˆå…·ä½“è§ä¸‹æ–¹è¯´æ˜ï¼‰|-|`{appTheme: "light", brightness: "light"}`|
|systemTheme|é»˜è®¤ç³»ç»Ÿä¸»é¢˜ï¼ˆä»…ä¸æ”¯æŒè·å–ç³»ç»Ÿä¸»é¢˜æ—¶ä½¿ç”¨ï¼Œç¨‹åºè·å–åˆ°ç³»ç»Ÿä¸»é¢˜æ—¶å°†ä¼šè¢«æ›´æ–°ï¼‰|string|light / dark|light|
|themeWithSystem|é»˜è®¤ä¸»é¢˜æ˜¯å¦è·Ÿéšç³»ç»Ÿ|boolean|-|`true`|
|statusBarHeight|é»˜è®¤çŠ¶æ€æ é«˜åº¦ï¼ˆå•ä½ï¼špxï¼‰ï¼ˆåˆå§‹çŠ¶æ€ä¸‹ä½¿ç”¨ï¼Œç¨‹åºè·å–åˆ°çŠ¶æ€æ é«˜åº¦æ—¶å°†ä¼šè¢«æ›´æ–°ï¼‰|number|-|`20`|
|titleBarHeight|é»˜è®¤æ ‡é¢˜æ é«˜åº¦ï¼ˆå•ä½ï¼špxï¼‰ï¼ˆåœ¨Appæˆ–H5ç­‰ä¸èƒ½è·å–æ ‡é¢˜æ é«˜åº¦çš„ç¯å¢ƒä¸­ä½¿ç”¨ï¼‰|number|-|`40`|

> ä¸»é¢˜é…ç½® AppTheme

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|appTheme|Appä¸»é¢˜ï¼ˆå¯è‡ªè¡Œæ‰©å±•ï¼Œè¯¦ç»†è¯·æŸ¥çœ‹ä¸‹æ–¹[ä¸»é¢˜](#ä¸»é¢˜)éƒ¨åˆ†ï¼‰|string|light / dark|-|
|brightness|ä¸»é¢˜äº®åº¦ï¼ˆä¸€èˆ¬ç”¨äºæ§åˆ¶çŠ¶æ€æ é¢œè‰²ç­‰ï¼‰|string|light / dark|-|

> è·¯ç”± `Config.route`

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|simulateTabbarPage|tabbarå®¹å™¨é¡µé¢åœ°å€ï¼ˆè¯¦ç»†è¯·æŸ¥çœ‹ä¸Šæ–¹[è‡ªå®šä¹‰tabbar](#è‡ªå®šä¹‰tabbar)éƒ¨åˆ†ï¼‰|string|-|/pages/main/index|

> æŒä¹…åŒ–å­˜å‚¨ `Config.storage`

|å‚æ•°|è¯´æ˜|é»˜è®¤å€¼|
|---|---|---|
|currentTheme|å½“å‰ä¸»é¢˜|CURRENT_THEME|
|themeWithSystem|ä¸»é¢˜æ˜¯å¦è·Ÿéšç³»ç»Ÿ|THEME_WITH_SYSTEM|
|token|token|TOKEN|

- `Config.storage` è¯´æ˜ï¼šå»ºè®®åœ¨ä½¿ç”¨ `Storage` ç›¸å…³APIæ—¶ï¼Œå…¶ä¸­çš„ `key` ä½¿ç”¨å…¨å±€çš„å¸¸é‡ä»¥æ–¹ä¾¿ç»´æŠ¤ï¼Œç¤ºä¾‹å¦‚ä¸‹

	```javascript
	import Config from "@/utils/config.js";

	uni.setStorageSync(Config.storage.token, "è¿™æ˜¯ä¸€ä¸ªtoken");

	const token = uni.getStorageSync(Config.storage.token);
	```

### ğŸ›¸ ç¯å¢ƒå˜é‡

- ç”±äºé¡¹ç›®é‡‡ç”¨çš„æ˜¯HBuilderXåˆ›å»ºæ–¹å¼ï¼Œé»˜è®¤ä¸æ”¯æŒç±»ä¼¼äºVue cliåˆ›å»ºæ–¹å¼çš„envç¯å¢ƒå˜é‡ï¼Œæ•…é¡¹ç›®ä¸­æ¨¡ä»¿Vue cliä½¿ç”¨ `dotenv` å®ç°äº†envç¯å¢ƒå˜é‡ï¼Œå…·ä½“å®ç°å¯æŸ¥çœ‹ `vue.config.js`ï¼Œä¹Ÿå¯æ ¹æ®å®é™…éœ€è¦åšå¯¹åº”ä¿®æ”¹

	- ä¹‹æ‰€ä»¥ä¸é‡‡ç”¨Vue cliåˆ›å»ºé¡¹ç›®ï¼Œæ˜¯å› ä¸ºHBuilderXå¯¹clié¡¹ç›®çš„æ”¯æŒå¹¶ä¸å‹å¥½ï¼Œä¾‹å¦‚ä¸èƒ½è‡ªåŠ¨è·³è½¬æ–‡ä»¶å¯¹åº”é¡µé¢ï¼ŒAppåœ¨çº¿æ‰“åŒ…æ—¶åŸºç¡€åº“æ›´æ–°éº»çƒ¦ç­‰

	- åŒæ—¶å› ä¸ºHBuilderXåˆ›å»ºçš„é¡¹ç›®ä½¿ç”¨çš„ç¼–è¯‘å™¨æ˜¯é›†æˆåœ¨HBuilderXä¸­çš„ï¼Œæ‰€ä»¥å½“HBuilderXæœ‰æ–°ç‰ˆæœ¬æ—¶è¯·åŠæ—¶æ›´æ–°ï¼Œä»¥å…é€ æˆä¸€äº›æœªçŸ¥çš„å¼‚å¸¸

- è™½ç„¶æ˜¯æ¨¡ä»¿Vue cliçš„ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯é¡¹ç›®ä¸­å¯¹å…¶åšå‡ºäº†ä¸€äº›ä¼˜åŒ–ä»¥åŠå·®å¼‚åŒ–ï¼Œä¾‹å¦‚æ”¯æŒäº†é™¤å­—ç¬¦ä¸²ä»¥å¤–çš„å…¶ä»–æ•°æ®ç±»å‹ã€ä¿®æ”¹äº†å˜é‡å‰ç¼€ç­‰ï¼Œå…·ä½“ä½¿ç”¨è§„èŒƒå¦‚ä¸‹

	- å‘½åè§„èŒƒ

		1. keyï¼šå…¨å¤§å†™ä¸‹åˆ’çº¿å‘½åï¼Œå¹¶ä¸”ä»¥`UNI_APP_`å¼€å¤´[`ENVIRONMENT`é™¤å¤–]ï¼ˆä¾‹: UNI_APP_EXAMPLEï¼‰

	- å–å€¼è§„èŒƒ

		1. valueä¸keyä¹‹é—´ä½¿ç”¨(`=`)ç¬¦å·è¿æ¥ï¼Œä¸­é—´ä¸æ·»åŠ `ç©ºæ ¼`ï¼Œå¹¶ä¸”å€¼ä¸åŠ å¼•å·(`""`ã€`''`ã€``` `)ï¼ŒåŒæ—¶ç¦æ­¢æ¢è¡Œï¼ˆä¾‹ï¼šUNI_APP_EXAMPLE=this is exampleï¼‰

	- æ³¨é‡Šè§„èŒƒ

		1. ä»¥(`#`)ç¬¦å·å¼€å¤´å¹¶ä¸”ä¸æ³¨é‡Šå†…å®¹ä¹‹é—´ä»¥ä¸€ä¸ª`ç©ºæ ¼`éš”å¼€ï¼ˆä¾‹ï¼š# è¿™é‡Œæ˜¯æ³¨é‡Šå†…å®¹ï¼‰

	- å€¼çš„ç±»å‹

		1. é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§£æå€¼çš„ç±»å‹[åŒ…æ‹¬`number`ã€`boolean`ã€`null`ã€`undefined`ä»¥åŠ`Json`ç±»å‹]ï¼Œè‹¥æ— æ³•è§£æåˆ™ä¼šä»¥å­—ç¬¦ä¸²å¤„ç†ï¼ˆä¾‹ï¼šUNI_APP_EXAMPLE=trueï¼‰

		1. è‹¥éœ€è¦å¼ºåˆ¶ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™ä»¥(`` `)ç¬¦å·å¼€å¤´å³å¯ï¼ˆä¾‹ï¼šUNI_APP_EXAMPLE=`trueï¼‰

	- `ENVIRONMENT` å¯æŒ‡å®šå½“å‰ç¯å¢ƒï¼ˆå½±å“é…ç½®æ–‡ä»¶è¯»å–ä½ç½®ï¼‰

		- defaultï¼šè¿è¡Œæ—¶ -> .env.developmentï¼Œå‘è¡Œæ—¶ -> .env.production

		- å…¶ä»–å€¼ï¼š.env.[ENVIRONMENT]

			```env
			# .env æ‰€æœ‰ç¯å¢ƒå‡ä¼šè¯»å–è¯¥æ–‡ä»¶

			# æŒ‡å®šå½“å‰ç¯å¢ƒ
			ENVIRONMENT=default

			# ä¸€äº›å…¶ä»–çš„ç¯å¢ƒå˜é‡ï¼Œæ‰€æœ‰ç¯å¢ƒéƒ½èƒ½è®¿é—®åˆ°
			UNI_APP_TEST=test
			```

			```env
			# .env.development å¼€å‘ç¯å¢ƒä¼šè¯»å–è¯¥æ–‡ä»¶ï¼Œå¯åœ¨.envä¸­æ‰‹åŠ¨æŒ‡å®šENVIRONMENTä¸ºdevelopment

			# è¯·æ±‚åŸºåœ°å€
			UNI_APP_REQUEST_BASE_URL=http://192.168.0.1:8888
			# èµ„æºåŸºåœ°å€
			UNI_APP_SOURCE_BASE_URL=http://192.168.0.1:8888
			```

			```env
			# .env.local å¯åœ¨.envä¸­æ‰‹åŠ¨æŒ‡å®šENVIRONMENTä¸ºlocalï¼Œåˆ™ä¼šè¯»å–è¯¥æ–‡ä»¶
			# è¯¥æ–‡ä»¶å·²åœ¨.gitignoreä¸­å¿½ç•¥ï¼Œå¯ç”¨äºæœ¬åœ°è°ƒè¯•æ—¶ä½¿ç”¨ï¼ˆè‹¥éœ€ä½¿ç”¨è¯·æ‰‹åŠ¨åˆ›å»ºè¯¥æ–‡ä»¶ï¼‰

			# è¯·æ±‚åŸºåœ°å€
			UNI_APP_REQUEST_BASE_URL=http://192.168.0.1:8888
			# èµ„æºåŸºåœ°å€
			UNI_APP_SOURCE_BASE_URL=http://192.168.0.1:8888
			```

### ğŸ•¹ï¸ ä¸»é¢˜

> é¡¹ç›®ä¸­é‡‡ç”¨äº†ä¸»æµé«˜æ•ˆçš„CssVaræ–¹å¼å®ç°äº†ä¸»é¢˜åˆ‡æ¢ï¼Œå¹¶ä¸”æä¾›äº†æ–¹ä¾¿æ˜“ç”¨çš„é…ç½® [CssVar](https://developer.mozilla.org/zh-CN/docs/Web/CSS/var)

1. é¦–å…ˆéœ€è¦å®šä¹‰ä¸»é¢˜ç›¸å…³çš„csså˜é‡(`/styles/theme.scss`)

	- é¡¹ç›®ä¸­csså˜é‡çš„å‘½åè§„èŒƒ

		- åŸºç¡€csså˜é‡ï¼š`--å±æ€§-åç§°: å˜é‡å€¼;`ï¼ˆä¾‹å¦‚ï¼š`--color-divider: #dadbde;` æŒ‡çš„æ˜¯åˆ†å‰²çº¿é¢œè‰²ï¼‰

		- æ¨¡å—æˆ–ç»„ä»¶ä¸­çš„csså˜é‡ï¼š`--æ¨¡å—æˆ–ç»„ä»¶åç§°__å†…éƒ¨çš„æŸä¸ªå…ƒç´ _å…ƒç´ çš„å±æ€§: å˜é‡å€¼;`ï¼ˆä¾‹å¦‚ï¼š`--app-tabbar__body_height: 120rpx;` æŒ‡çš„æ˜¯AppTabbarç»„ä»¶ä¸»ä½“å†…å®¹çš„é«˜åº¦ï¼‰

		- å…¶ä¸­ `--color-accent` ä¸ºä¸»é¢˜è‰²ï¼Œå¯æ ¹æ®äº§å“å®é™…æƒ…å†µä¿®æ”¹

		- å­—ä½“é¢œè‰²æœ‰4ç§å®šä¹‰ï¼Œå³ `--color-txt-primary`ã€`--color-txt-secondary`ã€`--color-txt-tertiary`ã€`--color-txt-other`ï¼Œåˆ†åˆ«æŒ‡çš„æ˜¯UIè®¾è®¡è§„èŒƒä¸­çš„ç”±æ·±è‡³æµ…çš„4çº§å­—ä½“é¢œè‰²ï¼Œå¯æ ¹æ®UIä¸­çš„å®é™…æƒ…å†µé…ç½®ç›¸åº”çš„é¢œè‰²ï¼Œæˆ–è€…å¢åŠ /åˆ é™¤å­—ä½“é¢œè‰²ç­‰çº§

		- èƒŒæ™¯é¢œè‰²æœ‰2ç§å®šä¹‰ï¼Œå³ `--color-bg-primary` å’Œ `--color-bg-normal` åˆ†åˆ«æ˜¯æŒ‡ä¸»è¦èƒŒæ™¯é¢œè‰²å’Œæ™®é€šèƒŒæ™¯é¢œè‰²ï¼Œäº¦å¯æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹

	- `theme.scss` ä¸­åŒ…å«äº†3ä¸ªæ¨¡å—ï¼Œå…¶ä¸­ `.app-container` ä¸‹å®šä¹‰çš„æ˜¯æ‰€æœ‰ä¸»é¢˜å‡æœ‰æ•ˆçš„csså˜é‡ï¼Œ`.app-container.app-theme-light` å’Œ `.app-container.app-theme-dark` ä¸‹å®šä¹‰çš„æ˜¯é»˜è®¤çš„ `light` å’Œ `dark` ä¸¤ä¸ªä¸»é¢˜ä¸‹åˆ†åˆ«æœ‰æ•ˆçš„csså˜é‡

1. ç¼–å†™é¡µé¢æ ·å¼æ—¶ï¼Œè‹¥éœ€è¦ç›®æ ‡é¢œè‰²è·Ÿéšä¸»é¢˜å˜åŒ–ï¼Œåˆ™ä¸å†ä½¿ç”¨å›ºå®šçš„é¢œè‰²å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨ `theme.scss` ç§å®šä¹‰çš„csså˜é‡ï¼Œå½“ä¸»é¢˜åˆ‡æ¢æ—¶é¢œè‰²å³å¯è‡ªåŠ¨å˜åŒ–ï¼Œä¾‹å¦‚ï¼š`color: var(--color-txt-primary);`

1. è‹¥éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä¸»é¢˜ï¼Œå¯è°ƒç”¨ `/store/modules/theme.js` ä¸­çš„ `setCurrentTheme`ï¼Œä¾‹å¦‚ï¼š`this.$store.commit("theme/setCurrentTheme", {appTheme: "dark", brightness: "dark"});`

1. è‹¥éœ€è¦è·å–å½“å‰çš„ä¸»é¢˜ä¿¡æ¯ `/store/modules/theme.js` ä¸­äº¦æä¾›äº†ç›¸å…³çš„ `getters` ç”¨äºæŸ¥è¯¢å½“å‰çŠ¶æ€ï¼Œä¹Ÿå¯æ ¹æ®å®é™…æƒ…å†µæ‰©å±•å…¶ä»–çš„ `getter` ç”¨äºé€‚é…ä¸»é¢˜å˜åŒ–

### ğŸš¦ æƒé™

> é¡¹ç›®ä¸­åŸºäº[æƒé™æ’ä»¶](https://ext.dcloud.net.cn/plugin?id=594)äºŒæ¬¡å°è£…äº†æƒé™ç”³è¯·æ–¹æ³•(`/utils/permission.js`)ï¼Œç”¨äºç¡®ä¿ç”¨æˆ·å·²æˆäºˆæƒé™åæ‰ä¼šç»§ç»­æ‰§è¡Œé€»è¾‘ï¼Œå¹¶ä¸”æ”¯æŒåŒæ—¶ç”³è¯·å¾®ä¿¡å°ç¨‹åºã€Androidã€iOSå¤šç«¯æƒé™ï¼ˆå¯æ ¹æ®éœ€è¦è‡ªè¡Œæ‰©å±•å…¶ä»–ç«¯ï¼‰ï¼Œä¹Ÿå…¼å®¹äº†ç”¨æˆ·æ‹’ç»æˆæƒçš„åœºæ™¯

- ç¡®ä¿æƒé™å·²æˆäºˆ `ensurePermissionAuthorized(scope: EnsurePermissionAuthorizedScope, config: EnsurePermissionAuthorizedConfig)`

	- éœ€è¦ä½¿ç”¨ `await` æˆ– `Promise` æ–¹å¼è°ƒç”¨

*EnsurePermissionAuthorizedScope*

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|mp|å°ç¨‹åºæƒé™çš„scope|string|å‚è€ƒå¾®ä¿¡å°ç¨‹åºå®˜æ–¹æ–‡æ¡£|-|
|android|Androidæƒé™çš„permissionId|string|å‚è€ƒAndroidå®˜æ–¹æ–‡æ¡£|-|
|ios|iOSæƒé™çš„permissionId|string|å‚è€ƒiOSå®˜æ–¹æ–‡æ¡£|-|

*iOSéƒ¨åˆ†æƒé™æ¸…å•ï¼ˆè¯¦ç»†è¯·æŸ¥é˜…iOSå®˜æ–¹æ–‡æ¡£ï¼‰*

|å‚æ•°|è¯´æ˜|
|---|---|
|location|ä½ç½®|
|push|æ¨é€|
|camera|æ‘„åƒå¤´|
|photoLibrary|ç›¸å†Œ|
|record|éº¦å…‹é£|
|contact|é€šè®¯å½•|
|calendar|æ—¥å†|
|memo|å¤‡å¿˜å½•|

*Androidéƒ¨åˆ†æƒé™æ¸…å•ï¼ˆè¯¦ç»†è¯·æŸ¥é˜…Androidå®˜æ–¹æ–‡æ¡£ï¼‰*

|å‚æ•°|è¯´æ˜|
|---|---|
|android.permission.ACCESS_FINE_LOCATION|ä½ç½®æƒé™|
|android.permission.ACCESS_COARSE_LOCATION|æ¨¡ç³Šä½ç½®æƒé™|
|android.permission.CAMERA|æ‘„åƒå¤´æƒé™|
|android.permission.READ_EXTERNAL_STORAGE|å¤–éƒ¨å­˜å‚¨(å«ç›¸å†Œ)è¯»å–æƒé™|
|android.permission.WRITE_EXTERNAL_STORAGE|å¤–éƒ¨å­˜å‚¨(å«ç›¸å†Œ)å†™å…¥æƒé™|
|android.permission.RECORD_AUDIO|éº¦å…‹é£æƒé™|
|android.permission.READ_CONTACTS|é€šè®¯å½•è¯»å–æƒé™|
|android.permission.WRITE_CONTACTS|é€šè®¯å½•å†™å…¥æƒé™|
|android.permission.READ_CALENDAR|æ—¥å†è¯»å–æƒé™|
|android.permission.WRITE_CALENDAR|æ—¥å†å†™å…¥æƒé™|
|android.permission.READ_SMS|çŸ­ä¿¡è¯»å–æƒé™|
|android.permission.SEND_SMS|çŸ­ä¿¡å‘é€æƒé™|
|android.permission.RECEIVE_SMS|æ¥æ”¶æ–°çŸ­ä¿¡æƒé™|
|android.permission.READ_PHONE_STATE|è·å–æ‰‹æœºè¯†åˆ«ç ç­‰ä¿¡æ¯çš„æƒé™|
|android.permission.CALL_PHONE|æ‹¨æ‰“ç”µè¯æƒé™|
|android.permission.READ_CALL_LOG|è·å–é€šè¯è®°å½•æƒé™|

*EnsurePermissionAuthorizedConfig*

|å‚æ•°|è¯´æ˜|ç±»å‹|å¯é€‰å€¼|é»˜è®¤å€¼|
|---|---|---|---|---|
|settings|æ‹’ç»æˆæƒæ—¶æ˜¯å¦è·³è½¬è‡³è®¾ç½®é¡µ|boolean|-|`true`|
|modalTitle|ç”³è¯·æƒé™å¼¹çª—æ ‡é¢˜|string|-|æƒé™ç”³è¯·|
|modalContent|ç”³è¯·æƒé™å¼¹çª—å†…å®¹|string|-|-|

- ä½¿ç”¨ç¤ºä¾‹

	```javascript
	// ç”³è¯·å®šä½æƒé™
	await ensurePermissionAuthorized({
	  mp: "scope.userLocation",
	  android: "android.permission.ACCESS_FINE_LOCATION",
	  ios: "location"
	}, {
	  modalContent: "æ‚¨å·²æ‹’ç»æˆäºˆå®šä½æƒé™ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯å®šä½æƒé™ï¼Œæ˜¯å¦ç«‹å³è·³è½¬è‡³è®¾ç½®é¡µé¢ï¼Ÿ"
	});

	// æƒé™ç”³è¯·æˆåŠŸåï¼Œç»§ç»­æ‰§è¡Œé€»è¾‘
	const { longitude, latitude } = await uni.pro.getLocation({
	  type: "gcj02",
	  isHighAccuracy: true
	});
	console.log("ç»çº¬åº¦", longitude, latitude);
	```

### ğŸ“‘ å¼•å…¥ç½‘ç»œJSåº“

> ğŸš¨ æ³¨æ„ï¼šç›®å‰é‡‡ç”¨è¯¥æŠ€æœ¯çš„å¾®ä¿¡å°ç¨‹åºå·²æ— æ³•é€šè¿‡å®¡æ ¸ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚

> ä½ å¥½ï¼Œå½“å‰æå®¡çš„å°ç¨‹åºåŒ…ä¸­å¯èƒ½å«æœ‰é¡µé¢æ–‡ä»¶é‡‡ç”¨å†…ç½®JavaScriptè§£é‡Šå™¨ï¼ˆå¦‚eval5ã€estimeã€evil-evalç­‰ï¼‰çš„æ–¹å¼ï¼ŒåŠ¨æ€æ‰§è¡ŒJSä»£ç ã€å¯¹å°ç¨‹åºwxmlä»£ç è¿›è¡Œçƒ­æ›´æ–°ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå»ºè®®ä½ ç«‹å³è°ƒæ•´æŠ€æœ¯æ–¹æ¡ˆï¼Œå»é™¤ç›¸å…³å†…å®¹ï¼Œæ¶ˆé™¤é£é™©ã€‚[å‚è€ƒæ–‡æ¡£](https://developers.weixin.qq.com/community/minihome/doc/0000ae500e4fd0541f2ea33755b801)

> å°ç¨‹åºä¸­è‹¥éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹JavaScriptåº“æ—¶ï¼Œæœ¬èº«ä»…æ”¯æŒ `npm` æˆ–ç›´æ¥ä¸‹è½½ç­‰æ–¹å¼å°†å…¶é™æ€å­˜å…¥é¡¹ç›®ä¸­ï¼Œè€Œä¸æ”¯æŒç½‘é¡µç«¯çš„ `script` æ–¹å¼å¼•å…¥ç½‘ç»œèµ„æºï¼Œä¸”æœ‰ä¸»åŒ…å¤§å°é™åˆ¶ã€‚å½“éœ€è¦ä½¿ç”¨æŸäº›æœ¬èº«ä½“ç§¯è¾ƒå¤§çš„JavaScriptåº“ï¼ˆä¾‹å¦‚ `echarts` ç­‰ï¼‰å¹¶ä¸”ä¸šåŠ¡åœºæ™¯ä¸­åªèƒ½å°†å…¶å­˜å…¥ä¸»åŒ…çš„æƒ…å†µæ—¶ï¼Œåˆ™ä¼šè¶…å‡ºä¸»åŒ…å¤§å°é™åˆ¶ï¼Œæ­¤æ—¶å¯é‡‡ç”¨é¡¹ç›®ä¸­ `/utils/script.js` ä¸­æ‰€æä¾›çš„ `dynamicRequire` æ–¹æ³•æ¥å®ç°åŠ¨æ€å¼•å…¥ç½‘ç»œèµ„æºã€‚

- æ–¹æ³•å†…éƒ¨å¯¹æ‰€åŠ è½½çš„JavaScriptåº“æŒ‰ç…§ `url` åšäº†ç¼“å­˜ï¼Œå½“éœ€è¦åŠ è½½ä¸€ä¸ªç½‘ç»œJavaScriptåº“æ—¶ï¼ŒåŠ è½½é¡ºåºå¦‚ä¸‹

	1. è¿è¡Œæ—¶å†…å­˜

	1. æŒä¹…åŒ–å­˜å‚¨

	1. ç½‘ç»œè¯·æ±‚

- ç”±äºç½‘ç»œè¯·æ±‚æ˜¯è€—æ—¶æ“ä½œï¼Œå¹¶ä¸”ç¨‹åºä¼šå°†æ‰€åŠ è½½çš„åº“ç¼“å­˜è‡³ `Storage` ä¸­ï¼Œæ‰€ä»¥éœ€è¦åŠ è½½çš„JavaScriptåº“ä¸å®œè¿‡å¤§ï¼ˆå•åº“å¤§å° < `1M`ï¼Œæ€»å¤§å° < `10M`ï¼‰ã€‚åŠ è½½è¿‡å¤§çš„ç½‘ç»œåº“å¯¹ç”¨æˆ·çš„ç½‘ç»œæ€§èƒ½åŠæ‰‹æœºæ€§èƒ½æœ‰æ›´é«˜çš„è¦æ±‚ï¼Œæ‰€ä»¥è¯·å°½é‡é‡‡ç”¨æ›´å°çš„åº“æ¥å®ç°ï¼Œä¾‹å¦‚ä½¿ç”¨ `dayjs` æ›¿ä»£ `moment`

- `script.js` ä¸­æä¾›äº†å¤šä¸ªæ–¹æ³•ï¼Œä¸”å‡æœ‰å„è‡ªçš„é…ç½®å‚æ•°ï¼Œå…·ä½“è¯·å‚çœ‹æ–‡ä»¶ä¸­çš„æ³¨é‡Šä¿¡æ¯

#### ä½¿ç”¨ç¤ºä¾‹

```javascript
import { dynamicRequire } from "@/utils/script.js";

// awaitæ–¹å¼ï¼ˆæ¨èï¼‰
{
  async onLoad() {
    const { echarts } = await dynamicRequire("https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js");

    console.log("åŠ è½½æˆåŠŸ", echarts);
  }
}

// Promiseæ–¹å¼
{
  async onLoad() {
    dynamicRequire("https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js").then(({ echarts }) => {
      console.log("åŠ è½½æˆåŠŸ", echarts);
    });
  }
}

// å®é™…åº”ç”¨åœºæ™¯ä¸­å»ºè®®ä½¿ç”¨å…¨å±€é…ç½®ç®¡ç†cdnåœ°å€ä»¥ä¾¿äºç»´æŠ¤
// /utils/config.js
{
  // ...
  cdn: {
    echarts: "https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js"
  }
  // ...
}

{
  async onLoad() {
    const { echarts } = await dynamicRequire(Config.cdn.echarts);

    console.log("åŠ è½½æˆåŠŸ", echarts);
  }
}
```

### ğŸ’ å†…ç½®Mixin

> æ··å…¥(mixin)çš„ç”¨æ³•è¯·æŸ¥é˜…[Vueå®˜æ–¹æ–‡æ¡£](https://v2.cn.vuejs.org/v2/guide/mixins.html)

#### lifecycleMixin

> `/mixins/lifecycle.js` ç”¨äºå­˜å‚¨å½“å‰é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå˜åŒ–ï¼Œä»¥ä¾¿äºé¡µé¢å†…ç»„ä»¶å¯æ„ŸçŸ¥å…¶æ‰€åœ¨é¡µé¢å½“å‰æ‰€å¤„çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä»…èƒ½åœ¨pages.jsonä¸­é…ç½®çš„é¡µé¢ä½¿ç”¨ï¼‰ï¼Œä¸€èˆ¬ç”¨äº `AppContainer` ç»„ä»¶

##### ä½¿ç”¨ç¤ºä¾‹

è¯·å‚è€ƒä¸Šæ–¹[é¡µé¢ç»“æ„](#é¡µé¢ç»“æ„)éƒ¨åˆ†

#### echartsMixin

> `/mixins/echarts.js` æä¾›äº†3ä¸ª `echarts` ç›¸å…³çš„å°è£…æ–¹æ³•ï¼Œæ—¨åœ¨é™ä½uniappä¸­ `echarts` çš„ä½¿ç”¨éš¾åº¦ä»¥åŠå‡å°‘é‡å¤ä»£ç ï¼ˆåŸºäºDCloudæ’ä»¶å¸‚åœºä¸­çš„[ç™¾åº¦å›¾è¡¨ echarts](https://ext.dcloud.net.cn/plugin?id=4899)å®ç°ï¼‰

- æ³¨æ„éœ€è¦æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹æ–‡ä»¶ä¸­ `echarts` çš„ `import` æ¥æºï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨ä¸Šæ–¹[å¼•å…¥ç½‘ç»œJSåº“](#å¼•å…¥ç½‘ç»œJSåº“)éƒ¨åˆ†ä¸­æ‰€æåˆ°çš„ `dynamicRequire` è¿›è¡Œæ”¹é€ ï¼Œæ”¹é€ ç¤ºä¾‹å¦‚ä¸‹

	```javascript
	// /mixins/echarts.js

	// è¯¥ç¤ºä¾‹ä¸­ä»…æä¾›å˜åŒ–éƒ¨åˆ†ï¼Œå…¶ä½™ä¿æŒåŸæ ·

	// æ·»åŠ ä¸‹é¢2è¡Œå¼•å…¥ç›¸å…³æ–¹æ³•åŠé…ç½®
	import Config from "@/utils/config.js";

	import { dynamicRequire } from "@/utils/script.js";

	// ç§»é™¤ä¸‹é¢è¿™1è¡Œ
	import * as echarts from "echarts";

	export default {
	  // æ ¹æ®éœ€è¦åœ¨dataä¸­æ·»åŠ echartsåŠ è½½çŠ¶æ€æ ‡å¿—é‡
	  data() {
	    return {
	      echartsLoaded: false
	    }
	  },
	  // æ·»åŠ mountedæ–¹æ³•ä»¥åŠ è½½echartsåº“
	  async mounted() {
	    const { echarts } = await dynamicRequire(Config.cdn.echarts);

	    this.echarts = echarts;
	    this.echartsLoaded = true;
	  },
	  methods: {
	    ensureEchartsInstance(ref, instanceKey) {
	      // æ·»åŠ ä¸‹é¢è¿™1è¡Œ
	      const { echarts } = this;

	      // ä»¥ä¸‹ä¸ºåŸæœ¬çš„æ–¹æ³•å®ç°
	      // ...
	    }
	  }
	}
	```

##### ä½¿ç”¨ç¤ºä¾‹

```vue
<template>
  <app-container>
    <l-echart ref="charts" class="charts"></l-echart>
  </app-container>
</template>

<script>
  import echartsMixin from "@/mixins/echarts";

  import chartsOption from "è¿™é‡Œæ˜¯è‡ªå·±çš„echartsé…ç½®æ•°æ®è·¯å¾„";

  export default {
    mixins: [echartsMixin],
    methods: {
      async testUpdateChartsOption() {
        // åªéœ€ä¸€è¡Œå³å¯å®ç°å›¾è¡¨çš„åˆ›å»ºåŠæ›´æ–°ï¼Œæ— éœ€åˆ¤æ–­å›¾è¡¨å®ä¾‹æ˜¯å¦å­˜åœ¨ï¼Œæ–¹æ³•å†…éƒ¨ä¼šè‡ªåŠ¨å¤„ç†å›¾è¡¨å®ä¾‹çš„åˆ›å»ºåŠç¼“å­˜
        await this.updateEchartsOption(this.$refs.charts, "chartsInstance", chartsOption);
      }
    }
  }
</script>
```

### ğŸï¸ å…¶ä»–

#### uview-ui

- [uview-ui](https://www.uviewui.com)

- ç”±äº `uview-ui` çš„ç»„ä»¶éƒ½å°† `virtualHost` å±æ€§è®¾ç½®ä¸º `true`ï¼Œå…¶ç›®çš„æ˜¯å°† `å¾®ä¿¡å°ç¨‹åº` ä¸­çš„è‡ªå®šä¹‰èŠ‚ç‚¹è®¾ç½®æˆè™šæ‹Ÿçš„ï¼Œä½¿å…¶æ›´åŠ æ¥è¿‘Vueç»„ä»¶çš„è¡¨ç°ï¼Œèƒ½æ›´å¥½çš„ä½¿ç”¨flexå±æ€§ï¼Œä½†æ˜¯è¿™åŒæ—¶ä¹Ÿå¯¼è‡´äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å¾®ä¿¡å°ç¨‹åºç«¯ä¸ç›´æ¥ç»™ `uview-ui` çš„ç»„ä»¶æ·»åŠ  `class`ã€‚`manifest` ä¸­çš„ `mergeVirtualHostAttributes` å‚æ•°ä¸º `true` æ—¶ï¼Œè™½ç„¶å¯ä»¥åˆå¹¶ `class` è‡³ `uview-ui` ç»„ä»¶ä¸Šï¼Œä½†æ˜¯ç»æµ‹è¯•å¹¶ä¸èƒ½æˆåŠŸåº”ç”¨è‡ªå®šä¹‰ `class` çš„å±æ€§ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿæ›´å¥½çš„å¤šç«¯å…¼å®¹ï¼Œè‹¥éœ€è¦ç»™ `uview-ui` çš„ç»„ä»¶æ·»åŠ  `class` æ—¶ï¼Œåœ¨å…¶å¤–å±‚ä½¿ç”¨ `view` åŒ…è£¹ï¼Œå¹¶å°† `class` æ·»åŠ è‡³å¤–å±‚ `view` ä¸Šï¼Œç„¶åæ ·å¼ä¸­åœ¨å¤–å±‚ `class` ä¸‹é€‰æ‹© `uview-ui` ç»„ä»¶çš„ `class` è¿›è€Œå»ä¿®æ”¹æ ·å¼ï¼Œç¤ºä¾‹å¦‚ä¸‹

	```vue
	<template>
	  <app-container :percept="thePercept">
	    <view class="my-button">
	      <u-button text="è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®"></u-button>
	    </view>
	  </app-container>
	</template>

	<style lang="scss" scoped>
	  .my-button {
	    // è‹¥åœ¨scopedèŠ‚ç‚¹ä¸‹ï¼Œéœ€è¦ä½¿ç”¨::v-deepåŒ…è£¹ï¼Œåä¹‹ï¼Œè‹¥ä¸åœ¨scopedèŠ‚ç‚¹ä¸‹åˆ™æ— é¡»ä½¿ç”¨::v-deep
	    ::v-deep {
	      .u-button {
	        background-color: red;
	      }
	    }
	  }
	</style>
	```

- `uview-ui` ç»„ä»¶åº“ç›®å‰å°šå­˜åœ¨ä¸€äº›ç¼ºé™·æˆ–å‚æ•°ç¼ºå¤±ï¼Œå·²å‘ç°éƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤º

	- é¡¹ç›®ä¸­å·²ä¿®å¤ç¼ºé™·æˆ–æ·»åŠ å‚æ•°ï¼Œå¹¶ä¸”å·²å‘ `uview-ui` å®˜æ–¹ä»“åº“æäº¤PRï¼Œç­‰å®˜æ–¹åˆå…¥PRå¹¶æ›´æ–°ç‰ˆæœ¬åï¼Œä¼šåŠæ—¶æ›´æ–°å½“å‰é¡¹ç›®ä¸­çš„ `uview-ui` ç‰ˆæœ¬ï¼Œè‹¥è‡ªè¡Œæ›´æ–°ç»„ä»¶ç‰ˆæœ¬æ—¶ï¼Œè¯·æ³¨æ„å½“å‰ä¿®æ”¹é¡¹

	- `u-input` (`/uni_modules/uview-ui/components/u-input/u-input.vue`)

		- å¼ºåˆ¶inputå¤„äºåŒå±‚çŠ¶æ€ï¼š`<input` æ–°å¢ `always-embed`

		- `focus` äº‹ä»¶å‚æ•°ç¼ºå¤±ï¼š`onFocus(event) {` æ–°å¢ `this.$emit("focus", event);`

	- `u--input` (`/uni_modules/uview-ui/components/u-input/u--input.vue`)

		- `focus` äº‹ä»¶å‚æ•°ç¼ºå¤±ï¼š`@focus="e => $emit('focus', e)"`

	- `u-picker` (`/uni_modules/uview-ui/components/u-picker/u-picker.vue`)

		- å°ç¨‹åºç«¯æ·±è‰²æ¨¡å¼æ”¯æŒï¼š`<picker-view` æ–°å¢ `mask-class="uni-picker-view-mask"`

	- `u-datetime-picker` (`/uni_modules/uview-ui/components/u-datetime-picker`)

		- æ»šåŠ¨åˆ°æœ€åä¸€é¡¹æ—¶éœ€ç­‰å¾…åŠ¨ç”»ç»“æŸæ‰èƒ½æ­£ç¡®ç¡®è®¤ï¼Œæ–°å¢ `immediateChange` å‚æ•°

			- `/props.js`ï¼šæ–°å¢ `immediateChange: { type: Boolean, default: uni.$u.props.picker.immediateChange }`

			- `/u-datetime-picker.vue`ï¼š`<u-picker` æ–°å¢ `:immediateChange="immediateChange"`

- `app.scss` ä¸­å†…ç½®äº†ä¸€äº›å…¨å±€æ ·å¼ç”¨äº `uview-ui` ç»„ä»¶é€‚é…æ·±è‰²æ¨¡å¼åˆ‡æ¢ï¼Œå¯æ ¹æ®éœ€è¦è‡ªè¡Œæ‰©å±•å…¶ä»–ç»„ä»¶ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹

	```vue
	<!-- app-imageï¼ˆå›¾ç‰‡çš„widthã€heightå¯ä»¥ç›´æ¥ä½¿ç”¨cssæ·»åŠ è‡³å¤–å±‚viewï¼‰ -->
	<view class="app-image">
	  <u-image src="å›¾ç‰‡url"></u-image>
	</view>

	<!-- app-popupï¼ˆapp-modalã€app-pickeråŒç†ï¼‰ -->
	<view class="app-popup">
	  <u-popup :show="show"></u-popup>
	</view>

	<!-- app-parse -->
	<view class="app-parse">
	  <u-parse content="å¯Œæ–‡æœ¬å†…å®¹"></u-parse>
	</view>

	<!-- æ¨ªå‘æŒ‰é’®ç»„ -->
	<view class="app-buttons horizontal">
	  <view class="app-button">
	    <u-button text="æŒ‰é’®1"></u-button>
	  </view>
	  <view class="app-button">
	    <u-button text="æŒ‰é’®2"></u-button>
	  </view>
	</view>

	<!-- çºµå‘æŒ‰é’®ç»„ -->
	<view class="app-buttons vertical">
	  <view class="app-button">
	    <u-button text="æŒ‰é’®1"></u-button>
	  </view>
	  <view class="app-button">
	    <u-button text="æŒ‰é’®2"></u-button>
	  </view>
	</view>
	```

#### z-paging

- [z-paging](https://z-paging.zxlee.cn)

- `z-paging` ç»„ä»¶ç›®å‰å°šå­˜åœ¨ä¸€äº›ç¼ºé™·ï¼Œå·²å‘ç°éƒ¨åˆ†å¦‚ä¸‹æ‰€ç¤º

	- é¡¹ç›®ä¸­å·²ä¿®å¤ç¼ºé™·ï¼Œå¹¶ä¸”å·²å‘ `z-paging` å®˜æ–¹ä»“åº“æäº¤PRï¼Œç›®å‰PRå·²è¢«åˆå…¥ä¸»åˆ†æ”¯ï¼Œç­‰å®˜æ–¹æ›´æ–°ç‰ˆæœ¬åï¼Œä¼šåŠæ—¶æ›´æ–°å½“å‰é¡¹ç›®ä¸­çš„ `z-paging` ç‰ˆæœ¬ï¼Œè‹¥è‡ªè¡Œæ›´æ–°ç»„ä»¶ç‰ˆæœ¬æ—¶ï¼Œè¯·æ³¨æ„å½“å‰ä¿®æ”¹é¡¹

	- `empty` (`/uni_modules/z-paging/components/z-paging/js/modules/empty.js`)

		- ä¿®å¤ `auto-hide-empty-view-when-loading` ä¸º `false` ä¸”åˆ—è¡¨ä¸ä¸ºç©ºæ—¶ï¼ŒåŠ è½½ä¸­æ—¶åˆ—è¡¨åº•éƒ¨ä»ç„¶ä¼šå‡ºç°ç©ºæ•°æ®è§†å›¾

			- `115è¡Œ`ï¼š`this.totalData.length` -> `this.realTotalData.length`

- é¡¹ç›®ä¸­é’ˆå¯¹ `z-paging` åŸºäºCssVaråšäº†ä¸€äº›å®‰å…¨åŒºåŸŸå’Œä¸»é¢˜åˆ‡æ¢æ–¹é¢çš„é€‚é…ï¼Œä½¿ç”¨æ–¹å¼åŠé…ç½®é¡¹å¦‚ä¸‹

	```vue
	<app-container :percept="thePercept">
	  <app-navbar title="é¡µé¢æ ‡é¢˜"></app-navbar>

	  <!-- è‹¥éœ€è¦ä¿®æ”¹csså˜é‡ï¼Œå»ºè®®åœ¨å¤–å±‚viewçš„classæˆ–styleä¸­é…ç½® -->
	  <view class="app-scroller"
	        :style="{height: `calc(100% - ${navigationBarHeight}px)`}">
	    <z-paging ref="scroller"
	              v-model="records"
	              @query="requestRecords">

	      <!-- åˆ—è¡¨å†…å®¹ -->

	    </z-paging>
	  </view>
	</app-container>
	```

	*CssVarsï¼ˆæ ·å¼å®šåˆ¶ï¼‰*

	|åç§°|è¯´æ˜|é»˜è®¤å€¼|
	|---|---|---|
	|--app-scroller__cushion_height|åº•éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦|`safeAreaInsets.bottom + uni.upx2px(60)`|
	|--app-scroller__bktop_size|è¿”å›é¡¶éƒ¨æŒ‰é’®å¤§å°|76rpx|
	|--app-scroller__bktop_right|è¿”å›é¡¶éƒ¨æŒ‰é’®å³ä¾§é—´è·|var(--app-main__space_horizontal)|
	|--app-scroller__bktop_bottom|è¿”å›é¡¶éƒ¨æŒ‰é’®åº•éƒ¨é—´è·ï¼ˆä¼šè‡ªåŠ¨æ·»åŠ åº•éƒ¨å®‰å…¨åŒºåŸŸé«˜åº¦ï¼‰|40rpx|
	|--app-scroller__bktop_zindex|è¿”å›é¡¶éƒ¨æŒ‰é’®z-index|10|

#### é»˜è®¤ä¾èµ–

> é¡¹ç›®ä¸­é»˜è®¤æ·»åŠ çš„ä¾èµ–å¦‚ä¸‹

- [dayjs](https://dayjs.fenxianglu.cn) Day.jsæ˜¯ä¸€ä¸ªæç®€çš„JavaScriptåº“ï¼Œå¯ä»¥ä¸ºç°ä»£æµè§ˆå™¨è§£æã€éªŒè¯ã€æ“ä½œå’Œæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´

	- `/utils/dayjs.js` ä¸­æœ‰ç›¸å…³é…ç½®ï¼ˆå¯è‡ªè¡Œä¿®æ”¹ï¼‰ï¼Œå¹¶ä¸”å·²æ·»åŠ è‡³Vueå®ä¾‹ä¸­(`$date`)ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ä½¿ç”¨ï¼Œè‹¥ä¸éœ€è¦å¯ç›´æ¥ç§»é™¤ä¾èµ–åŠç›¸å…³é…ç½®æ–‡ä»¶

- [lodash](https://www.lodashjs.com) Lodash æ˜¯ä¸€ä¸ªä¸€è‡´æ€§ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å®ç”¨å·¥å…·åº“

	- è‹¥ä¸éœ€è¦å¯è‡ªè¡Œç§»é™¤ï¼Œå¹¶æ”¹é€ é¡¹ç›®ä¸­ä¾èµ–è¯¥åº“çš„ç›¸å…³æ–¹æ³•ï¼Œæ¶‰åŠçš„æ–¹æ³•å¦‚ä¸‹

		- /utils/route.js

			- simulateSwitchTabï¼š`_.findLastIndex`

		- /components/AppAreaPicker.vue

			- `_.get`

			- `_.set`

			- `_.cloneDeep`

			- `_.padEnd`

			- `_.findIndex`

### ğŸ¶è®¨è®ºäº¤æµ

- â“ï¼šè‹¥æœ‰ç–‘é—®æˆ–BUGåé¦ˆï¼Œå¯æäº¤[issues](https://github.com/MyHdg0601/uniapp-vue2-hbx-starter/issues)

- ğŸ“«ï¼š[HeDianGeng0601@outlook.com](mailto:HeDianGeng0601@outlook.com)

- ğŸ§ï¼šæš‚æœªå¼€é€š

### ğŸ† å¼€æºåè®®

- MIT [LICENSE](./LICENSE)